/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (function() { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./resources/js/spotifynt.js":
/*!***********************************!*\
  !*** ./resources/js/spotifynt.js ***!
  \***********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var fast_average_color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fast-average-color */ \"./node_modules/fast-average-color/dist/index.esm.js\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function (_e2) { function e(_x) { return _e2.apply(this, arguments); } e.toString = function () { return _e2.toString(); }; return e; }(function (e) { throw e; }), f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function (_e3) { function e(_x2) { return _e3.apply(this, arguments); } e.toString = function () { return _e3.toString(); }; return e; }(function (e) { didErr = true; err = e; }), f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\nwindow.Lists = new function () {\n  this.store = function (list, items) {\n    sessionStorage.setItem('list-' + list, JSON.stringify(items));\n  };\n\n  this.clear = function (list) {\n    sessionStorage.setItem('list-' + list, JSON.stringify([]));\n  };\n\n  this.appendOrStore = function (list, items) {\n    if (Lists.get(list)) {\n      Lists.append(list, items);\n    } else {\n      Lists.store(list, items);\n    }\n  };\n\n  this.removeDuplicates = function (list) {\n    var items = Lists.get(list);\n    items = items.reduce(function (a, b) {\n      if (a.indexOf(b) < 0) a.push(b);\n      return a;\n    }, []);\n    Lists.store(list, items);\n  };\n\n  this.append = function (list, songs) {\n    var items = Lists.get(list);\n    items = items.concat(songs);\n    sessionStorage.setItem('list-' + list, JSON.stringify(items));\n  };\n\n  this.merge = function (lista, listb) {\n    var itemsa = Lists.get(lista);\n    var itemsb = Lists.get(listb);\n    itemsa = itemsa.concat(itemsb);\n    sessionStorage.setItem('list-' + lista, JSON.stringify(itemsa));\n  };\n\n  this.shuffle = function (list) {\n    var items = JSON.parse(sessionStorage.getItem('list-' + list));\n\n    for (var i = items.length - 1; i > 0; i--) {\n      var j = Math.floor(Math.random() * (i + 1));\n      var temp = items[i];\n      items[i] = items[j];\n      items[j] = temp;\n    }\n\n    sessionStorage.setItem('list-' + list, JSON.stringify(items));\n    return this;\n  };\n\n  this.get = function (list) {\n    try {\n      return JSON.parse(sessionStorage.getItem('list-' + list));\n    } catch (_unused) {\n      return false;\n    }\n  };\n}();\nwindow.Spotifynt = new function () {\n  var url = \"http://192.168.1.5:9000\";\n  this.player = new function () {\n    this.show = function (song) {\n      document.querySelector(\"#audio-player\").src = Spotifynt.command.fileUrl(song.id);\n      document.querySelector(\"#text-songTitle\").textContent = song.title;\n      document.querySelector(\"#text-songArtist\").textContent = song.artist;\n      document.querySelector(\"#img-songArt\").src = Spotifynt.command.artUrl(song.album_id);\n      document.querySelector(\"#row-player\").hidden = false;\n      document.querySelector(\"#text-songBitrate\").textContent = Math.round(song.bitrate / 1000) + \" kpbs\";\n      document.querySelector(\"#text-songFormat\").textContent = song.format;\n      Spotifynt.metadata.set(song, Spotifynt.command.artUrl(song.album_id));\n      Spotifynt.displayPlayer(true);\n      var fac = new fast_average_color__WEBPACK_IMPORTED_MODULE_0__.default();\n      fac.getColorAsync(document.querySelector(\"#img-songArt\").src).then(function (color) {\n        document.querySelector(\"#app\").style.backgroundColor = color.hex + \"99\";\n        document.querySelector(\"meta[name='theme-color'\").content = color.hex;\n      })[\"catch\"](function (e) {\n        return console.log(e);\n      });\n    };\n  }();\n  this.playlist = new function () {\n    function get() {\n      var playlist = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"playlist-actual\";\n      return Lists.get(playlist);\n    }\n\n    this[\"new\"] = function (playlist, songs) {\n      var items = [];\n\n      var _iterator = _createForOfIteratorHelper(songs),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var song = _step.value;\n          items.push(song.id);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      Lists.clear(playlist);\n      Lists.store(playlist, items);\n      Lists.removeDuplicates(playlist);\n      return this;\n    };\n\n    this.load = function (songs) {\n      var random = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var playlist = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"playlist-actual\";\n\n      if (random) {\n        Lists.shuffle(songs);\n      }\n\n      Lists.appendOrStore(playlist, get(songs));\n      Lists.removeDuplicates(playlist);\n      return this;\n    };\n\n    this.clear = function () {\n      var playlist = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"playlist-actual\";\n      Lists.clear(playlist);\n      return this;\n    };\n\n    this.play = function () {\n      var i = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var playlist = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"playlist-actual\";\n\n      if (i === false) {\n        i = parseInt(sessionStorage.getItem(\"playlist-actual-i\"));\n      }\n\n      sessionStorage.setItem(\"playlist-actual-i\", i);\n      Spotifynt.command.item(get(playlist)[i]).then(function (song) {\n        Spotifynt.player.show(song);\n        Spotifynt.player_playpause(\"play\");\n      });\n    };\n\n    this.move = function (i) {\n      var playlist = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"playlist-actual\";\n      var length = get(playlist).length;\n      var actual = parseInt(sessionStorage.getItem(\"playlist-actual-i\"));\n      var nuevo = ((actual + i) % length + length) % length;\n      sessionStorage.setItem(\"playlist-actual-i\", nuevo);\n      return this;\n    };\n  }();\n  this.metadata = new function () {\n    this.set = function (item, image) {\n      navigator.mediaSession.metadata = new MediaMetadata({\n        title: item.title,\n        artist: item.artist,\n        album: item.album,\n        artwork: [{\n          src: image,\n          sizes: '512x512',\n          type: 'image/png'\n        }]\n      });\n    };\n  }();\n  this.command = new function () {\n    this.getAlbumSongs = function (id) {\n      return command(\"album/\".concat(id, \"?expand\"));\n    };\n\n    this.item = function (id) {\n      return command(\"item/\".concat(id));\n    };\n\n    this.querySong = function (query) {\n      return command(\"item/query/\".concat(query));\n    };\n\n    this.queryAlbum = function (query) {\n      return command(\"album/query/\".concat(query));\n    };\n\n    this.artUrl = function (id) {\n      return \"\".concat(url, \"/album/\").concat(id, \"/art\");\n    };\n\n    this.fileUrl = function (id) {\n      return \"\".concat(url, \"/item/\").concat(id, \"/file\");\n    };\n\n    function command(arg) {\n      return fetch(\"\".concat(url, \"/\").concat(arg), {\n        method: 'GET'\n      }).then(function (response) {\n        return response.json();\n      });\n    }\n  }();\n\n  this.search = function (query) {\n    this.command.querySong(query).then(function (response) {\n      var results = response.results;\n      show_songs(results, 'search');\n      Spotifynt.playlist[\"new\"]('search', results);\n    })[\"catch\"](function (err) {\n      return console.error(err);\n    });\n    this.command.queryAlbum(query).then(function (response) {\n      var results = response.results;\n      show_albums(results);\n    })[\"catch\"](function (err) {\n      return console.error(err);\n    });\n  };\n\n  this.show_info = function () {\n    var item = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var list = sessionStorage.getItem(\"list_showing\");\n    var song_id = JSON.parse(sessionStorage.getItem(\"list-\".concat(list)))[item];\n    beet_getItem(song_id).then(function (song) {\n      document.querySelector(\"#modal-infoBody\").innerHTML = \"\";\n\n      for (e in song) {\n        p = document.createElement(\"p\");\n        p.innerHTML = \"<b>\".concat(e, \"</b>: \").concat(song[e]);\n        document.querySelector(\"#modal-infoBody\").appendChild(p);\n      }\n\n      document.querySelector(\"#modal-infoTitle\").textContent = song.title;\n      $('#modal-info').modal('show');\n    });\n  };\n\n  this.getAlbumSongs = function (id) {\n    return Spotifynt.command.getAlbumSongs(id);\n  };\n\n  function show_albums(albums) {\n    var l = document.querySelector(\"#div-albumResults\");\n    l.innerHTML = \"\";\n\n    var _iterator2 = _createForOfIteratorHelper(albums.entries()),\n        _step2;\n\n    try {\n      var _loop = function _loop() {\n        var _step2$value = _slicedToArray(_step2.value, 2),\n            i = _step2$value[0],\n            album = _step2$value[1];\n\n        var t = document.querySelector(\"#template-albumResult\").cloneNode(true).content;\n        t.querySelector(\"[data-album='title']\").textContent = \"\".concat(album.album);\n        t.querySelector(\"[data-album='artist']\").textContent = \"\".concat(album.albumartist);\n        t.querySelector(\"[data-album='art']\").src = Spotifynt.command.artUrl(album.id);\n        t.querySelector(\"[data-album='append']\").addEventListener(\"click\", function () {\n          Spotifynt.getAlbumSongs(album.id).then(function (songs) {\n            return Spotifynt.playlist[\"new\"](\"album-\".concat(album.id), songs.items).load(\"album-\".concat(album.id));\n          });\n        });\n        t.querySelector(\"[data-album='play']\").addEventListener(\"click\", function () {\n          Spotifynt.getAlbumSongs(album.id).then(function (songs) {\n            Spotifynt.playlist[\"new\"](\"album-\".concat(album.id), songs.items).clear().load(\"album-\".concat(album.id)).play(0);\n          });\n        }); //t.querySelector(\".list-song-info\").onclick = () => show_info(i);\n        //if (song.format === \"FLAC\"){\n        //t.querySelector(\".list-song-title\").classList.add('mdi')\n        //t.querySelector(\".list-song-title\").classList.add('mdi-quality-high')\n        //}\n\n        l.appendChild(t);\n      };\n\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        _loop();\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n\n    Spotifynt.displayAlbumResults(true);\n  }\n\n  function show_songs(songs, list) {\n    sessionStorage.setItem(\"list_showing\", list); //document.querySelector(\"#row-songResults\").hidden = false;\n\n    var l = document.querySelector(\"#div-songResults\");\n    l.innerHTML = \"\";\n\n    var _iterator3 = _createForOfIteratorHelper(songs.entries()),\n        _step3;\n\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var _step3$value = _slicedToArray(_step3.value, 2),\n            i = _step3$value[0],\n            song = _step3$value[1];\n\n        var t = document.querySelector(\"#template-songResult\").cloneNode(true).content;\n        t.querySelector(\"[data-song='title']\").textContent = \"\".concat(song.title);\n        t.querySelector(\"[data-song='artist']\").textContent = \"\".concat(song.artist); //t.querySelector(\".list-song-album\").textContent = `${song.album}`\n        //t.querySelector(\".list-song-play\").onclick = () => btn_play(i);\n        //t.querySelector(\".list-song-info\").onclick = () => show_info(i);\n        //if (song.format === \"FLAC\"){\n        //t.querySelector(\".list-song-title\").classList.add('mdi')\n        //t.querySelector(\".list-song-title\").classList.add('mdi-quality-high')\n        //}\n\n        l.appendChild(t);\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n\n    Spotifynt.displaySongResults(true);\n  }\n\n  this.btn_play = function (i) {\n    var list = sessionStorage.getItem(\"list_showing\");\n    list.clear('playlist');\n    list.merge('playlist', list);\n    playlist_play(i);\n  };\n\n  this.player_playpause = function () {\n    var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n    var player = document.querySelector(\"#audio-player\");\n\n    if (player.paused || action === \"play\") {\n      sessionStorage.setItem(\"player_playing\", 'playing');\n      document.querySelector(\"#icon-pause\").hidden = false;\n      document.querySelector(\"#icon-play\").hidden = true;\n      player.play();\n    } else if (!player.paused || action === \"pause\") {\n      sessionStorage.setItem(\"player_playing\", 'paused');\n      document.querySelector(\"#icon-play\").hidden = false;\n      document.querySelector(\"#icon-pause\").hidden = true;\n      player.pause();\n    }\n  };\n\n  this.displaySongResults = function (e) {\n    document.querySelector(\"#row-songResults\").hidden = !e;\n  };\n\n  this.displayAlbumResults = function (e) {\n    document.querySelector(\"#row-albumResults\").hidden = !e;\n  };\n\n  this.displayPlayer = function (e) {\n    document.querySelector(\"#row-player\").hidden = !e;\n  };\n}();\nnavigator.mediaSession.setActionHandler('play', function () {\n  return Spotifynt.player_playpause('play');\n});\nnavigator.mediaSession.setActionHandler('pause', function () {\n  return Spotifynt.player_playpause('pause');\n});\nnavigator.mediaSession.setActionHandler('previoustrack', function () {\n  return Spotifynt.playlist.move(-1).play();\n});\nnavigator.mediaSession.setActionHandler('nexttrack', function () {\n  return Spotifynt.playlist.move(1).play();\n});\ndocument.querySelector('#input-search').addEventListener('change', function (e) {\n  return Spotifynt.search(e.target.value);\n});\ndocument.querySelector(\"#audio-player\").addEventListener('ended', function () {\n  return Spotifynt.playlist.move(1).play();\n});\ndocument.querySelector(\"#btn-nextSong\").addEventListener('click', function () {\n  return Spotifynt.playlist.move(1).play();\n});\ndocument.querySelector(\"#btn-prevSong\").addEventListener('click', function () {\n  return Spotifynt.playlist.move(-1).play();\n});\ndocument.querySelector(\"#btn-playpause\").addEventListener('click', function () {\n  return Spotifynt.player_playpause();\n});\ndocument.querySelector(\"#btn-playPlaylist\").addEventListener('click', function () {\n  Spotifynt.playlist.clear().load(\"search\", true).play(0);\n});\ndocument.querySelector(\"#btn-appendPlaylist\").addEventListener('click', function () {\n  Spotifynt.playlist.load(\"search\");\n});\n\nif (false) {}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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d0IsQ0FBeEIsRUFBMkJKLElBQTNCLEVBQU47QUFBQSxDQUFsRTtBQUNBL0IsUUFBUSxDQUFDQyxhQUFULENBQXVCLGVBQXZCLEVBQXdDMkUsZ0JBQXhDLENBQXlELE9BQXpELEVBQWtFO0FBQUEsU0FBTXBGLFNBQVMsQ0FBQ3FDLFFBQVYsQ0FBbUJNLElBQW5CLENBQXdCLENBQXhCLEVBQTJCSixJQUEzQixFQUFOO0FBQUEsQ0FBbEU7QUFDQS9CLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixlQUF2QixFQUF3QzJFLGdCQUF4QyxDQUF5RCxPQUF6RCxFQUFrRTtBQUFBLFNBQU1wRixTQUFTLENBQUNxQyxRQUFWLENBQW1CTSxJQUFuQixDQUF3QixDQUFDLENBQXpCLEVBQTRCSixJQUE1QixFQUFOO0FBQUEsQ0FBbEU7QUFDQS9CLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixnQkFBdkIsRUFBeUMyRSxnQkFBekMsQ0FBMEQsT0FBMUQsRUFBbUU7QUFBQSxTQUFNcEYsU0FBUyxDQUFDMEMsZ0JBQVYsRUFBTjtBQUFBLENBQW5FO0FBRUFsQyxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsbUJBQXZCLEVBQTRDMkUsZ0JBQTVDLENBQTZELE9BQTdELEVBQXNFLFlBQU07QUFDMUVwRixFQUFBQSxTQUFTLENBQUNxQyxRQUFWLENBQW1CaEUsS0FBbkIsR0FBMkJpRSxJQUEzQixDQUFnQyxRQUFoQyxFQUEwQyxJQUExQyxFQUFnREMsSUFBaEQsQ0FBcUQsQ0FBckQ7QUFDRCxDQUZEO0FBSUEvQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIscUJBQXZCLEVBQThDMkUsZ0JBQTlDLENBQStELE9BQS9ELEVBQXdFLFlBQU07QUFDNUVwRixFQUFBQSxTQUFTLENBQUNxQyxRQUFWLENBQW1CQyxJQUFuQixDQUF3QixRQUF4QjtBQUNELENBRkQ7O0FBSUEsSUFBSXBDLEtBQUosRUFBd0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvc3BvdGlmeW50LmpzPzU4OWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEZhc3RBdmVyYWdlQ29sb3IgZnJvbSAnZmFzdC1hdmVyYWdlLWNvbG9yJztcblxud2luZG93Lkxpc3RzID0gbmV3IChmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5zdG9yZSA9IGZ1bmN0aW9uIChsaXN0LCBpdGVtcyl7XG5cbiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2xpc3QtJytsaXN0LCBKU09OLnN0cmluZ2lmeShpdGVtcykpXG4gICAgfVxuXG4gICAgdGhpcy5jbGVhciA9IGZ1bmN0aW9uIChsaXN0KXtcblxuICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnbGlzdC0nK2xpc3QsIEpTT04uc3RyaW5naWZ5KFtdKSlcbiAgICB9XG5cbiAgICB0aGlzLmFwcGVuZE9yU3RvcmUgPSBmdW5jdGlvbiAobGlzdCwgaXRlbXMpe1xuICAgICAgaWYgKExpc3RzLmdldChsaXN0KSl7XG4gICAgICAgIExpc3RzLmFwcGVuZChsaXN0LCBpdGVtcylcbiAgICAgIH1lbHNle1xuXG4gICAgICAgIExpc3RzLnN0b3JlKGxpc3QsIGl0ZW1zKVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMucmVtb3ZlRHVwbGljYXRlcyA9IGZ1bmN0aW9uKGxpc3Qpe1xuICAgICAgbGV0IGl0ZW1zID0gTGlzdHMuZ2V0KGxpc3QpXG4gICAgICBpdGVtcyA9IGl0ZW1zLnJlZHVjZShmdW5jdGlvbihhLGIpe2lmKGEuaW5kZXhPZihiKTwwKWEucHVzaChiKTtyZXR1cm4gYTt9LFtdKTtcbiAgICAgIExpc3RzLnN0b3JlKGxpc3QsIGl0ZW1zKVxuXG4gICAgfVxuXG4gICAgdGhpcy5hcHBlbmQgPSBmdW5jdGlvbiAobGlzdCwgc29uZ3Mpe1xuICAgICAgbGV0IGl0ZW1zID0gTGlzdHMuZ2V0KGxpc3QpXG4gICAgICBpdGVtcyA9IGl0ZW1zLmNvbmNhdChzb25ncylcbiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2xpc3QtJytsaXN0LCBKU09OLnN0cmluZ2lmeShpdGVtcykpXG4gICAgfVxuXG4gICAgdGhpcy5tZXJnZSA9IGZ1bmN0aW9uIChsaXN0YSwgbGlzdGIpe1xuICAgICAgbGV0IGl0ZW1zYSA9IExpc3RzLmdldChsaXN0YSlcbiAgICAgIGxldCBpdGVtc2IgPSBMaXN0cy5nZXQobGlzdGIpXG4gICAgICBpdGVtc2EgPSBpdGVtc2EuY29uY2F0KGl0ZW1zYilcbiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2xpc3QtJytsaXN0YSwgSlNPTi5zdHJpbmdpZnkoaXRlbXNhKSlcbiAgICB9XG5cbiAgICB0aGlzLnNodWZmbGUgPSBmdW5jdGlvbiAobGlzdCl7XG4gICAgICBsZXQgaXRlbXMgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2xpc3QtJytsaXN0KSlcblxuICAgICAgZm9yIChsZXQgaSA9IGl0ZW1zLmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHtcbiAgICAgICAgICBsZXQgaiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChpICsgMSkpO1xuICAgICAgICAgIGxldCB0ZW1wID0gaXRlbXNbaV07XG4gICAgICAgICAgaXRlbXNbaV0gPSBpdGVtc1tqXTtcbiAgICAgICAgICBpdGVtc1tqXSA9IHRlbXA7XG4gICAgICB9XG5cbiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2xpc3QtJytsaXN0LCBKU09OLnN0cmluZ2lmeShpdGVtcykpXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB0aGlzLmdldCA9IGZ1bmN0aW9uIChsaXN0KXtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2xpc3QtJytsaXN0KSk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbndpbmRvdy5TcG90aWZ5bnQgPSBuZXcgKGZ1bmN0aW9uICgpIHtcbiAgbGV0IHVybCA9IHByb2Nlc3MuZW52LkJFRVRTX1VSTDtcblxuICB0aGlzLnBsYXllciA9IG5ldyAoZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuc2hvdyA9IGZ1bmN0aW9uKHNvbmcpe1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhdWRpby1wbGF5ZXJcIikuc3JjID0gU3BvdGlmeW50LmNvbW1hbmQuZmlsZVVybChzb25nLmlkKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGV4dC1zb25nVGl0bGVcIikudGV4dENvbnRlbnQgPSBzb25nLnRpdGxlXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RleHQtc29uZ0FydGlzdFwiKS50ZXh0Q29udGVudCA9IHNvbmcuYXJ0aXN0XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2ltZy1zb25nQXJ0XCIpLnNyYyA9ICBTcG90aWZ5bnQuY29tbWFuZC5hcnRVcmwoc29uZy5hbGJ1bV9pZClcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcm93LXBsYXllclwiKS5oaWRkZW4gPSBmYWxzZTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGV4dC1zb25nQml0cmF0ZVwiKS50ZXh0Q29udGVudCA9IE1hdGgucm91bmQoc29uZy5iaXRyYXRlIC8gMTAwMCkgKyBcIiBrcGJzXCI7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RleHQtc29uZ0Zvcm1hdFwiKS50ZXh0Q29udGVudCA9IHNvbmcuZm9ybWF0O1xuXG4gICAgICBTcG90aWZ5bnQubWV0YWRhdGEuc2V0KHNvbmcsIFNwb3RpZnludC5jb21tYW5kLmFydFVybChzb25nLmFsYnVtX2lkKSlcblxuICAgICAgU3BvdGlmeW50LmRpc3BsYXlQbGF5ZXIodHJ1ZSk7XG5cbiAgICAgIGNvbnN0IGZhYyA9IG5ldyBGYXN0QXZlcmFnZUNvbG9yKCk7XG5cbiAgICAgIGZhYy5nZXRDb2xvckFzeW5jKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW1nLXNvbmdBcnRcIikuc3JjKVxuICAgICAgICAgIC50aGVuKGNvbG9yID0+IHtcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYXBwXCIpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yLmhleCArIFwiOTlcIlxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIm1ldGFbbmFtZT0ndGhlbWUtY29sb3InXCIpLmNvbnRlbnQgPSBjb2xvci5oZXg7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZSA9PiBjb25zb2xlLmxvZyhlKSk7XG4gICAgICB9XG4gIH0pO1xuXG4gIHRoaXMucGxheWxpc3QgPSBuZXcoZnVuY3Rpb24gKCkge1xuXG4gICAgZnVuY3Rpb24gZ2V0KHBsYXlsaXN0PVwicGxheWxpc3QtYWN0dWFsXCIpIHtcbiAgICAgIHJldHVybiBMaXN0cy5nZXQocGxheWxpc3QpO1xuICAgIH1cbiAgICB0aGlzLm5ldyA9IGZ1bmN0aW9uKHBsYXlsaXN0LCBzb25ncyl7XG4gICAgICBsZXQgaXRlbXMgPSBbXVxuICAgICAgZm9yIChsZXQgc29uZyBvZiBzb25ncyl7XG4gICAgICAgIGl0ZW1zLnB1c2goc29uZy5pZClcbiAgICAgIH1cbiAgICAgIExpc3RzLmNsZWFyKHBsYXlsaXN0KVxuICAgICAgTGlzdHMuc3RvcmUocGxheWxpc3QsIGl0ZW1zKVxuICAgICAgTGlzdHMucmVtb3ZlRHVwbGljYXRlcyhwbGF5bGlzdClcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHRoaXMubG9hZCA9IGZ1bmN0aW9uKHNvbmdzLCByYW5kb209ZmFsc2UsIHBsYXlsaXN0PVwicGxheWxpc3QtYWN0dWFsXCIpIHtcbiAgICAgIGlmKHJhbmRvbSl7XG4gICAgICAgIExpc3RzLnNodWZmbGUoc29uZ3MpO1xuICAgICAgfVxuICAgICAgTGlzdHMuYXBwZW5kT3JTdG9yZShwbGF5bGlzdCwgZ2V0KHNvbmdzKSk7XG4gICAgICBMaXN0cy5yZW1vdmVEdXBsaWNhdGVzKHBsYXlsaXN0KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHRoaXMuY2xlYXIgPSBmdW5jdGlvbihwbGF5bGlzdD1cInBsYXlsaXN0LWFjdHVhbFwiKSB7XG4gICAgICBMaXN0cy5jbGVhcihwbGF5bGlzdCk7XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHRoaXMucGxheSA9IGZ1bmN0aW9uKGk9ZmFsc2UsIHBsYXlsaXN0PVwicGxheWxpc3QtYWN0dWFsXCIpIHtcbiAgICAgIGlmIChpID09PSBmYWxzZSl7XG4gICAgICAgIGkgPSBwYXJzZUludChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwicGxheWxpc3QtYWN0dWFsLWlcIikpO1xuICAgICAgfVxuICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcInBsYXlsaXN0LWFjdHVhbC1pXCIsIGkpO1xuICAgICAgU3BvdGlmeW50LmNvbW1hbmQuaXRlbShnZXQocGxheWxpc3QpW2ldKVxuICAgICAgICAudGhlbihzb25nID0+IHtcbiAgICAgICAgICBTcG90aWZ5bnQucGxheWVyLnNob3coc29uZylcbiAgICAgICAgICBTcG90aWZ5bnQucGxheWVyX3BsYXlwYXVzZShcInBsYXlcIik7XG4gICAgICAgIH0pXG5cbiAgICB9XG5cbiAgICB0aGlzLm1vdmUgPSBmdW5jdGlvbihpLCBwbGF5bGlzdD1cInBsYXlsaXN0LWFjdHVhbFwiKSB7XG4gICAgICBsZXQgbGVuZ3RoID0gZ2V0KHBsYXlsaXN0KS5sZW5ndGg7XG4gICAgICBsZXQgYWN0dWFsID0gcGFyc2VJbnQoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcInBsYXlsaXN0LWFjdHVhbC1pXCIpKTtcbiAgICAgIGxldCBudWV2byA9ICgoKGFjdHVhbCArIGkpICUgbGVuZ3RoKSArIGxlbmd0aCkgJSBsZW5ndGg7XG4gICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFwicGxheWxpc3QtYWN0dWFsLWlcIiwgbnVldm8pO1xuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgfSlcblxuICB0aGlzLm1ldGFkYXRhID0gbmV3IChmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5zZXQgPSBmdW5jdGlvbiAoaXRlbSwgaW1hZ2Upe1xuICAgICAgbmF2aWdhdG9yLm1lZGlhU2Vzc2lvbi5tZXRhZGF0YSA9IG5ldyBNZWRpYU1ldGFkYXRhKHtcbiAgICAgICAgdGl0bGU6IGl0ZW0udGl0bGUsXG4gICAgICAgIGFydGlzdDogaXRlbS5hcnRpc3QsXG4gICAgICAgIGFsYnVtOiBpdGVtLmFsYnVtLFxuICAgICAgICBhcnR3b3JrOiBbXG4gICAgICAgICAgeyBzcmM6IGltYWdlLCBzaXplczogJzUxMng1MTInLCB0eXBlOiAnaW1hZ2UvcG5nJyB9LFxuICAgICAgICBdXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIHRoaXMuY29tbWFuZCA9IG5ldyAoZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZ2V0QWxidW1Tb25ncyA9IGZ1bmN0aW9uIChpZCl7XG5cbiAgICAgIHJldHVybiBjb21tYW5kKGBhbGJ1bS8ke2lkfT9leHBhbmRgKVxuICAgIH1cblxuICAgIHRoaXMuaXRlbSA9IGZ1bmN0aW9uIChpZCl7XG5cbiAgICAgIHJldHVybiBjb21tYW5kKGBpdGVtLyR7aWR9YClcbiAgICB9XG5cbiAgICB0aGlzLnF1ZXJ5U29uZyA9IGZ1bmN0aW9uIChxdWVyeSl7XG5cbiAgICAgIHJldHVybiBjb21tYW5kKGBpdGVtL3F1ZXJ5LyR7cXVlcnl9YClcbiAgICB9XG5cbiAgICB0aGlzLnF1ZXJ5QWxidW0gPSBmdW5jdGlvbiAocXVlcnkpe1xuXG4gICAgICByZXR1cm4gY29tbWFuZChgYWxidW0vcXVlcnkvJHtxdWVyeX1gKVxuICAgIH1cblxuICAgIHRoaXMuYXJ0VXJsID0gZnVuY3Rpb24gKGlkKXtcblxuICAgICAgcmV0dXJuIGAke3VybH0vYWxidW0vJHtpZH0vYXJ0YFxuICAgIH1cblxuICAgIHRoaXMuZmlsZVVybCA9IGZ1bmN0aW9uIChpZCl7XG5cbiAgICAgIHJldHVybiBgJHt1cmx9L2l0ZW0vJHtpZH0vZmlsZWBcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb21tYW5kKGFyZyl7XG4gICAgICByZXR1cm4gZmV0Y2goYCR7dXJsfS8ke2FyZ31gLCB7bWV0aG9kOiAnR0VUJ30pXG4gICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICB9XG4gIH0pO1xuXG4gIHRoaXMuc2VhcmNoID0gZnVuY3Rpb24gKHF1ZXJ5KXtcbiAgICB0aGlzLmNvbW1hbmQucXVlcnlTb25nKHF1ZXJ5KVxuICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICBsZXQgcmVzdWx0cyA9IHJlc3BvbnNlLnJlc3VsdHNcbiAgICAgICAgc2hvd19zb25ncyhyZXN1bHRzLCAnc2VhcmNoJylcbiAgICAgICAgU3BvdGlmeW50LnBsYXlsaXN0Lm5ldygnc2VhcmNoJywgcmVzdWx0cylcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUuZXJyb3IoZXJyKSlcblxuICAgIHRoaXMuY29tbWFuZC5xdWVyeUFsYnVtKHF1ZXJ5KVxuICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICBsZXQgcmVzdWx0cyA9IHJlc3BvbnNlLnJlc3VsdHNcbiAgICAgICAgc2hvd19hbGJ1bXMocmVzdWx0cylcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUuZXJyb3IoZXJyKSlcbiAgfVxuXG4gIHRoaXMuc2hvd19pbmZvID0gZnVuY3Rpb24gKGl0ZW09MCl7XG4gICAgbGV0IGxpc3QgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwibGlzdF9zaG93aW5nXCIpXG4gICAgbGV0IHNvbmdfaWQgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oYGxpc3QtJHtsaXN0fWApKVtpdGVtXVxuXG4gICAgYmVldF9nZXRJdGVtKHNvbmdfaWQpXG4gICAgLnRoZW4oc29uZyA9PiB7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21vZGFsLWluZm9Cb2R5XCIpLmlubmVySFRNTCA9IFwiXCJcbiAgICAgIGZvciAoZSBpbiBzb25nKSB7XG4gICAgICAgIHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKVxuICAgICAgICBwLmlubmVySFRNTCA9IGA8Yj4ke2V9PC9iPjogJHtzb25nW2VdfWBcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtb2RhbC1pbmZvQm9keVwiKS5hcHBlbmRDaGlsZChwKVxuICAgICAgfVxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtb2RhbC1pbmZvVGl0bGVcIikudGV4dENvbnRlbnQgPSBzb25nLnRpdGxlXG5cbiAgICAgICQoJyNtb2RhbC1pbmZvJykubW9kYWwoJ3Nob3cnKVxuICAgIH0pXG4gIH1cblxuICB0aGlzLmdldEFsYnVtU29uZ3MgPSBmdW5jdGlvbiAoaWQpe1xuICAgIHJldHVybiBTcG90aWZ5bnQuY29tbWFuZC5nZXRBbGJ1bVNvbmdzKGlkKTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gc2hvd19hbGJ1bXMoYWxidW1zKSB7XG4gICAgbGV0IGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Rpdi1hbGJ1bVJlc3VsdHNcIik7XG4gICAgbC5pbm5lckhUTUwgPSBcIlwiO1xuXG4gICAgZm9yIChjb25zdCBbaSwgYWxidW1dIG9mIGFsYnVtcy5lbnRyaWVzKCkpe1xuICAgICAgbGV0IHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RlbXBsYXRlLWFsYnVtUmVzdWx0XCIpLmNsb25lTm9kZSh0cnVlKS5jb250ZW50O1xuXG4gICAgICB0LnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1hbGJ1bT0ndGl0bGUnXVwiKS50ZXh0Q29udGVudCA9IGAke2FsYnVtLmFsYnVtfWBcbiAgICAgIHQucXVlcnlTZWxlY3RvcihcIltkYXRhLWFsYnVtPSdhcnRpc3QnXVwiKS50ZXh0Q29udGVudCA9IGAke2FsYnVtLmFsYnVtYXJ0aXN0fWBcbiAgICAgIHQucXVlcnlTZWxlY3RvcihcIltkYXRhLWFsYnVtPSdhcnQnXVwiKS5zcmMgPSBTcG90aWZ5bnQuY29tbWFuZC5hcnRVcmwoYWxidW0uaWQpXG4gICAgICB0LnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1hbGJ1bT0nYXBwZW5kJ11cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgU3BvdGlmeW50LmdldEFsYnVtU29uZ3MoYWxidW0uaWQpXG4gICAgICAgIC50aGVuKHNvbmdzID0+IFNwb3RpZnludC5wbGF5bGlzdC5uZXcoYGFsYnVtLSR7YWxidW0uaWR9YCwgc29uZ3MuaXRlbXMpLmxvYWQoYGFsYnVtLSR7YWxidW0uaWR9YCkpXG4gICAgICB9KVxuICAgICAgdC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtYWxidW09J3BsYXknXVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuXG4gICAgICAgIFNwb3RpZnludC5nZXRBbGJ1bVNvbmdzKGFsYnVtLmlkKVxuICAgICAgICAudGhlbihzb25ncyA9PiB7XG4gICAgICAgICAgU3BvdGlmeW50LnBsYXlsaXN0Lm5ldyhgYWxidW0tJHthbGJ1bS5pZH1gLCBzb25ncy5pdGVtcykuY2xlYXIoKS5sb2FkKGBhbGJ1bS0ke2FsYnVtLmlkfWApLnBsYXkoMClcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgICAvL3QucXVlcnlTZWxlY3RvcihcIi5saXN0LXNvbmctaW5mb1wiKS5vbmNsaWNrID0gKCkgPT4gc2hvd19pbmZvKGkpO1xuXG4gICAgICAvL2lmIChzb25nLmZvcm1hdCA9PT0gXCJGTEFDXCIpe1xuICAgICAgICAvL3QucXVlcnlTZWxlY3RvcihcIi5saXN0LXNvbmctdGl0bGVcIikuY2xhc3NMaXN0LmFkZCgnbWRpJylcbiAgICAgICAgLy90LnF1ZXJ5U2VsZWN0b3IoXCIubGlzdC1zb25nLXRpdGxlXCIpLmNsYXNzTGlzdC5hZGQoJ21kaS1xdWFsaXR5LWhpZ2gnKVxuICAgICAgLy99XG5cbiAgICAgIGwuYXBwZW5kQ2hpbGQodCk7XG5cbiAgICB9XG4gICAgU3BvdGlmeW50LmRpc3BsYXlBbGJ1bVJlc3VsdHModHJ1ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBzaG93X3NvbmdzKHNvbmdzLCBsaXN0KXtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFwibGlzdF9zaG93aW5nXCIsIGxpc3QpO1xuICAgIC8vZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNyb3ctc29uZ1Jlc3VsdHNcIikuaGlkZGVuID0gZmFsc2U7XG4gICAgbGV0IGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Rpdi1zb25nUmVzdWx0c1wiKTtcbiAgICBsLmlubmVySFRNTCA9IFwiXCI7XG5cbiAgICBmb3IgKGNvbnN0IFtpLCBzb25nXSBvZiBzb25ncy5lbnRyaWVzKCkpe1xuICAgICAgbGV0IHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RlbXBsYXRlLXNvbmdSZXN1bHRcIikuY2xvbmVOb2RlKHRydWUpLmNvbnRlbnQ7XG5cbiAgICAgIHQucXVlcnlTZWxlY3RvcihcIltkYXRhLXNvbmc9J3RpdGxlJ11cIikudGV4dENvbnRlbnQgPSBgJHtzb25nLnRpdGxlfWBcbiAgICAgIHQucXVlcnlTZWxlY3RvcihcIltkYXRhLXNvbmc9J2FydGlzdCddXCIpLnRleHRDb250ZW50ID0gYCR7c29uZy5hcnRpc3R9YFxuICAgICAgLy90LnF1ZXJ5U2VsZWN0b3IoXCIubGlzdC1zb25nLWFsYnVtXCIpLnRleHRDb250ZW50ID0gYCR7c29uZy5hbGJ1bX1gXG4gICAgICAvL3QucXVlcnlTZWxlY3RvcihcIi5saXN0LXNvbmctcGxheVwiKS5vbmNsaWNrID0gKCkgPT4gYnRuX3BsYXkoaSk7XG4gICAgICAvL3QucXVlcnlTZWxlY3RvcihcIi5saXN0LXNvbmctaW5mb1wiKS5vbmNsaWNrID0gKCkgPT4gc2hvd19pbmZvKGkpO1xuXG4gICAgICAvL2lmIChzb25nLmZvcm1hdCA9PT0gXCJGTEFDXCIpe1xuICAgICAgICAvL3QucXVlcnlTZWxlY3RvcihcIi5saXN0LXNvbmctdGl0bGVcIikuY2xhc3NMaXN0LmFkZCgnbWRpJylcbiAgICAgICAgLy90LnF1ZXJ5U2VsZWN0b3IoXCIubGlzdC1zb25nLXRpdGxlXCIpLmNsYXNzTGlzdC5hZGQoJ21kaS1xdWFsaXR5LWhpZ2gnKVxuICAgICAgLy99XG5cbiAgICAgIGwuYXBwZW5kQ2hpbGQodCk7XG5cbiAgICB9XG5cbiAgICBTcG90aWZ5bnQuZGlzcGxheVNvbmdSZXN1bHRzKHRydWUpO1xuICB9XG5cblxuICB0aGlzLmJ0bl9wbGF5ID0gZnVuY3Rpb24gKGkpe1xuICAgIGxldCBsaXN0ID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcImxpc3Rfc2hvd2luZ1wiKTtcbiAgICBsaXN0LmNsZWFyKCdwbGF5bGlzdCcpXG4gICAgbGlzdC5tZXJnZSgncGxheWxpc3QnLCBsaXN0KVxuICAgIHBsYXlsaXN0X3BsYXkoaSlcbiAgfVxuXG4gIHRoaXMucGxheWVyX3BsYXlwYXVzZSA9IGZ1bmN0aW9uIChhY3Rpb249XCJcIil7XG4gICAgbGV0IHBsYXllciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYXVkaW8tcGxheWVyXCIpO1xuICAgIGlmIChwbGF5ZXIucGF1c2VkIHx8IGFjdGlvbiA9PT0gXCJwbGF5XCIpe1xuICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcInBsYXllcl9wbGF5aW5nXCIsICdwbGF5aW5nJyk7XG5cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaWNvbi1wYXVzZVwiKS5oaWRkZW4gPSBmYWxzZTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaWNvbi1wbGF5XCIpLmhpZGRlbiA9IHRydWU7XG5cbiAgICAgIHBsYXllci5wbGF5KClcblxuICAgIH1lbHNlIGlmKCFwbGF5ZXIucGF1c2VkIHx8IGFjdGlvbiA9PT0gXCJwYXVzZVwiKXtcbiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJwbGF5ZXJfcGxheWluZ1wiLCAncGF1c2VkJyk7XG5cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaWNvbi1wbGF5XCIpLmhpZGRlbiA9IGZhbHNlO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpY29uLXBhdXNlXCIpLmhpZGRlbiA9IHRydWU7XG5cbiAgICAgIHBsYXllci5wYXVzZSgpXG4gICAgfVxuICB9XG5cbiAgdGhpcy5kaXNwbGF5U29uZ1Jlc3VsdHMgPSBmdW5jdGlvbiAoZSl7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNyb3ctc29uZ1Jlc3VsdHNcIikuaGlkZGVuID0gIWVcbiAgfVxuXG4gIHRoaXMuZGlzcGxheUFsYnVtUmVzdWx0cyA9IGZ1bmN0aW9uIChlKXtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Jvdy1hbGJ1bVJlc3VsdHNcIikuaGlkZGVuID0gIWVcbiAgfVxuXG4gIHRoaXMuZGlzcGxheVBsYXllciA9IGZ1bmN0aW9uIChlKXtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Jvdy1wbGF5ZXJcIikuaGlkZGVuID0gIWVcbiAgfVxuXG59KTtcblxubmF2aWdhdG9yLm1lZGlhU2Vzc2lvbi5zZXRBY3Rpb25IYW5kbGVyKCdwbGF5JywgKCkgPT4gU3BvdGlmeW50LnBsYXllcl9wbGF5cGF1c2UoJ3BsYXknKSk7XG5uYXZpZ2F0b3IubWVkaWFTZXNzaW9uLnNldEFjdGlvbkhhbmRsZXIoJ3BhdXNlJywgKCkgPT4gU3BvdGlmeW50LnBsYXllcl9wbGF5cGF1c2UoJ3BhdXNlJykpO1xubmF2aWdhdG9yLm1lZGlhU2Vzc2lvbi5zZXRBY3Rpb25IYW5kbGVyKCdwcmV2aW91c3RyYWNrJywgKCkgPT4gU3BvdGlmeW50LnBsYXlsaXN0Lm1vdmUoLTEpLnBsYXkoKSk7XG5uYXZpZ2F0b3IubWVkaWFTZXNzaW9uLnNldEFjdGlvbkhhbmRsZXIoJ25leHR0cmFjaycsICgpID0+IFNwb3RpZnludC5wbGF5bGlzdC5tb3ZlKDEpLnBsYXkoKSk7XG5cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNpbnB1dC1zZWFyY2gnKS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBlID0+IFNwb3RpZnludC5zZWFyY2goZS50YXJnZXQudmFsdWUpKVxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhdWRpby1wbGF5ZXJcIikuYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCAoKSA9PiBTcG90aWZ5bnQucGxheWxpc3QubW92ZSgxKS5wbGF5KCkpXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2J0bi1uZXh0U29uZ1wiKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IFNwb3RpZnludC5wbGF5bGlzdC5tb3ZlKDEpLnBsYXkoKSlcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYnRuLXByZXZTb25nXCIpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gU3BvdGlmeW50LnBsYXlsaXN0Lm1vdmUoLTEpLnBsYXkoKSlcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYnRuLXBsYXlwYXVzZVwiKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IFNwb3RpZnludC5wbGF5ZXJfcGxheXBhdXNlKCkpXG5cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYnRuLXBsYXlQbGF5bGlzdFwiKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgU3BvdGlmeW50LnBsYXlsaXN0LmNsZWFyKCkubG9hZChcInNlYXJjaFwiLCB0cnVlKS5wbGF5KDApO1xufSlcblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNidG4tYXBwZW5kUGxheWxpc3RcIikuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIFNwb3RpZnludC5wbGF5bGlzdC5sb2FkKFwic2VhcmNoXCIpXG59KVxuXG5pZiAocHJvY2Vzcy5lbnYuQVBQX0VOViA9PSAncHJvZHVjdGlvbicpe1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgZSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUucmV0dXJuVmFsdWUgPSAnJztcbiAgfSk7XG59XG5cbiJdLCJuYW1lcyI6WyJGYXN0QXZlcmFnZUNvbG9yIiwid2luZG93IiwiTGlzdHMiLCJzdG9yZSIsImxpc3QiLCJpdGVtcyIsInNlc3Npb25TdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjbGVhciIsImFwcGVuZE9yU3RvcmUiLCJnZXQiLCJhcHBlbmQiLCJyZW1vdmVEdXBsaWNhdGVzIiwicmVkdWNlIiwiYSIsImIiLCJpbmRleE9mIiwicHVzaCIsInNvbmdzIiwiY29uY2F0IiwibWVyZ2UiLCJsaXN0YSIsImxpc3RiIiwiaXRlbXNhIiwiaXRlbXNiIiwic2h1ZmZsZSIsInBhcnNlIiwiZ2V0SXRlbSIsImkiLCJsZW5ndGgiLCJqIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwidGVtcCIsIlNwb3RpZnludCIsInVybCIsInByb2Nlc3MiLCJlbnYiLCJCRUVUU19VUkwiLCJwbGF5ZXIiLCJzaG93Iiwic29uZyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInNyYyIsImNvbW1hbmQiLCJmaWxlVXJsIiwiaWQiLCJ0ZXh0Q29udGVudCIsInRpdGxlIiwiYXJ0aXN0IiwiYXJ0VXJsIiwiYWxidW1faWQiLCJoaWRkZW4iLCJyb3VuZCIsImJpdHJhdGUiLCJmb3JtYXQiLCJtZXRhZGF0YSIsInNldCIsImRpc3BsYXlQbGF5ZXIiLCJmYWMiLCJnZXRDb2xvckFzeW5jIiwidGhlbiIsImNvbG9yIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJoZXgiLCJjb250ZW50IiwiZSIsImNvbnNvbGUiLCJsb2ciLCJwbGF5bGlzdCIsImxvYWQiLCJwbGF5IiwicGFyc2VJbnQiLCJpdGVtIiwicGxheWVyX3BsYXlwYXVzZSIsIm1vdmUiLCJhY3R1YWwiLCJudWV2byIsImltYWdlIiwibmF2aWdhdG9yIiwibWVkaWFTZXNzaW9uIiwiTWVkaWFNZXRhZGF0YSIsImFsYnVtIiwiYXJ0d29yayIsInNpemVzIiwidHlwZSIsImdldEFsYnVtU29uZ3MiLCJxdWVyeVNvbmciLCJxdWVyeSIsInF1ZXJ5QWxidW0iLCJhcmciLCJmZXRjaCIsIm1ldGhvZCIsInJlc3BvbnNlIiwianNvbiIsInNlYXJjaCIsInJlc3VsdHMiLCJzaG93X3NvbmdzIiwiZXJyIiwiZXJyb3IiLCJzaG93X2FsYnVtcyIsInNob3dfaW5mbyIsInNvbmdfaWQiLCJiZWV0X2dldEl0ZW0iLCJpbm5lckhUTUwiLCJwIiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwiJCIsIm1vZGFsIiwiYWxidW1zIiwibCIsImVudHJpZXMiLCJ0IiwiY2xvbmVOb2RlIiwiYWxidW1hcnRpc3QiLCJhZGRFdmVudExpc3RlbmVyIiwiZGlzcGxheUFsYnVtUmVzdWx0cyIsImRpc3BsYXlTb25nUmVzdWx0cyIsImJ0bl9wbGF5IiwicGxheWxpc3RfcGxheSIsImFjdGlvbiIsInBhdXNlZCIsInBhdXNlIiwic2V0QWN0aW9uSGFuZGxlciIsInRhcmdldCIsInZhbHVlIiwiQVBQX0VOViIsInByZXZlbnREZWZhdWx0IiwicmV0dXJuVmFsdWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./resources/js/spotifynt.js\n");

/***/ }),

/***/ "./node_modules/fast-average-color/dist/index.esm.js":
/*!***********************************************************!*\
  !*** ./node_modules/fast-average-color/dist/index.esm.js ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/*! Fast Average Color |  2021 Denis Seleznev | MIT License | https://github.com/fast-average-color/fast-average-color */\nfunction toHex(num) {\n    const str = num.toString(16);\n\n    return str.length === 1 ? '0' + str : str;\n}\n\nfunction arrayToHex(arr) {\n    return '#' + arr.map(toHex).join('');\n}\n\nfunction isDark(color) {\n    // http://www.w3.org/TR/AERT#color-contrast\n    const result = (color[0] * 299 + color[1] * 587 + color[2] * 114) / 1000;\n\n    return result < 128;\n}\n\nfunction prepareIgnoredColor(color) {\n    if (!color) { return color; }\n\n    if (Array.isArray(color)) {\n        return typeof color[0] === 'number' ? [color.slice()] : color;\n    }\n\n    return [color];\n}\n\nfunction isIgnoredColor(data, index, ignoredColor) {\n    for (let i = 0; i < ignoredColor.length; i++) {\n        if (isIgnoredColorAsNumbers(data, index, ignoredColor[i])) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nfunction isIgnoredColorAsNumbers(data, index, ignoredColor) {\n    switch (ignoredColor.length) {\n        case 3:\n            // [red, green, blue]\n            if (isIgnoredRGBColor(data, index, ignoredColor)) {\n                return true;\n            }\n\n            break;\n        case 4:\n            // [red, green, blue, alpha]\n            if (isIgnoredRGBAColor(data, index, ignoredColor)) {\n                return true;\n            }\n\n            break;\n        case 5:\n            // [red, green, blue, alpha, threshold]\n            if (isIgnoredRGBAColorWithThreshold(data, index, ignoredColor)) {\n                return true;\n            }\n\n            break;\n        default:\n            return false;\n    }\n}\n\nfunction isIgnoredRGBColor(data, index, ignoredColor) {\n    // Ignore if the pixel are transparent.\n    if (data[index + 3] !== 255) {\n        return true;\n    }\n\n    if (data[index] === ignoredColor[0] &&\n        data[index + 1] === ignoredColor[1] &&\n        data[index + 2] === ignoredColor[2]\n    ) {\n        return true;\n    }\n\n    return false;\n}\n\nfunction isIgnoredRGBAColor(data, index, ignoredColor) {\n    if (data[index + 3] && ignoredColor[3]) {\n        return data[index] === ignoredColor[0] &&\n            data[index + 1] === ignoredColor[1] &&\n            data[index + 2] === ignoredColor[2] &&\n            data[index + 3] === ignoredColor[3];\n    }\n\n    // Ignore rgb components if the pixel are fully transparent.\n    return data[index + 3] === ignoredColor[3];\n}\n\nfunction inRange(colorComponent, ignoredColorComponent, value) {\n    return colorComponent >= (ignoredColorComponent - value) &&\n        colorComponent <= (ignoredColorComponent + value);\n}\n\nfunction isIgnoredRGBAColorWithThreshold(data, index, ignoredColor) {\n    const redIgnored = ignoredColor[0];\n    const greenIgnored = ignoredColor[1];\n    const blueIgnored = ignoredColor[2];\n    const alphaIgnored = ignoredColor[3];\n    const threshold = ignoredColor[4];\n    const alphaData = data[index + 3];\n\n    const alphaInRange = inRange(alphaData, alphaIgnored, threshold);\n    if (!alphaIgnored) {\n        return alphaInRange;\n    }\n\n    if (!alphaData && alphaInRange) {\n        return true;\n    }\n\n    if (inRange(data[index], redIgnored, threshold) &&\n        inRange(data[index + 1], greenIgnored, threshold) &&\n        inRange(data[index + 2], blueIgnored, threshold) &&\n        alphaInRange\n    ) {\n        return true;\n    }\n\n    return false;\n}\n\nfunction dominantAlgorithm(arr, len, options) {\n    const colorHash = {};\n    const divider = 24;\n    const ignoredColor = options.ignoredColor;\n    const step = options.step;\n    let max = [0, 0, 0, 0, 0];\n    \n    for (let i = 0; i < len; i += step) {\n        const red = arr[i];\n        const green = arr[i + 1];\n        const blue = arr[i + 2];\n        const alpha = arr[i + 3];\n\n        if (ignoredColor && isIgnoredColor(arr, i, ignoredColor)) {\n            continue;\n        }\n\n        const key = Math.round(red / divider) + ',' +\n                Math.round(green / divider) + ',' +\n                Math.round(blue / divider);\n\n        if (colorHash[key]) {\n            colorHash[key] = [\n                colorHash[key][0] + red * alpha,\n                colorHash[key][1] + green * alpha,\n                colorHash[key][2] + blue * alpha,\n                colorHash[key][3] + alpha,\n                colorHash[key][4] + 1\n            ];\n        } else {\n            colorHash[key] = [red * alpha, green * alpha, blue * alpha, alpha, 1];\n        }\n        \n        if (max[4] < colorHash[key][4]) {\n            max = colorHash[key];\n        }\n    }\n\n    const redTotal = max[0];\n    const greenTotal = max[1];\n    const blueTotal = max[2];\n\n    const alphaTotal = max[3];\n    const count = max[4];\n\n    return alphaTotal ? [\n        Math.round(redTotal / alphaTotal),\n        Math.round(greenTotal / alphaTotal),\n        Math.round(blueTotal / alphaTotal),\n        Math.round(alphaTotal / count)\n    ] : options.defaultColor;\n}\n\nfunction simpleAlgorithm(arr, len, options) {\n    let redTotal = 0;\n    let greenTotal = 0;\n    let blueTotal = 0;\n    let alphaTotal = 0;\n    let count = 0;\n\n    const ignoredColor = options.ignoredColor;\n    const step = options.step;\n\n    for (let i = 0; i < len; i += step) {\n        const alpha = arr[i + 3];\n        const red = arr[i] * alpha;\n        const green = arr[i + 1] * alpha;\n        const blue = arr[i + 2] * alpha;\n\n        if (ignoredColor && isIgnoredColor(arr, i, ignoredColor)) {\n            continue;\n        }\n\n        redTotal += red;\n        greenTotal += green;\n        blueTotal += blue;\n        alphaTotal += alpha;\n\n        count++;\n    }\n\n    return alphaTotal ? [\n        Math.round(redTotal / alphaTotal),\n        Math.round(greenTotal / alphaTotal),\n        Math.round(blueTotal / alphaTotal),\n        Math.round(alphaTotal / count)\n    ] : options.defaultColor;\n}\n\nfunction sqrtAlgorithm(arr, len, options) {\n    let redTotal = 0;\n    let greenTotal = 0;\n    let blueTotal = 0;\n    let alphaTotal = 0;\n    let count = 0;\n\n    const ignoredColor = options.ignoredColor;\n    const step = options.step;\n\n    for (let i = 0; i < len; i += step) {\n        const red = arr[i];\n        const green = arr[i + 1];\n        const blue = arr[i + 2];\n        const alpha = arr[i + 3];\n\n        if (ignoredColor && isIgnoredColor(arr, i, ignoredColor)) {\n            continue;\n        }\n\n        redTotal += red * red * alpha;\n        greenTotal += green * green * alpha;\n        blueTotal += blue * blue * alpha;\n        alphaTotal += alpha;\n\n        count++;\n    }\n\n    return alphaTotal ? [\n        Math.round(Math.sqrt(redTotal / alphaTotal)),\n        Math.round(Math.sqrt(greenTotal / alphaTotal)),\n        Math.round(Math.sqrt(blueTotal / alphaTotal)),\n        Math.round(alphaTotal / count)\n    ] : options.defaultColor;\n}\n\nfunction getDefaultColor(options) {\n    return getOption(options, 'defaultColor', [0, 0, 0, 0]);\n}\n\nfunction getOption(options, name, defaultValue) {\n    return typeof options[name] === 'undefined' ? defaultValue : options[name];\n}\n\nconst MIN_SIZE = 10;\nconst MAX_SIZE = 100;\n\nfunction isSvg(filename) {\n    return filename.search(/\\.svg(\\?|$)/i) !== -1;\n}\n\nfunction getOriginalSize(resource) {\n    if (resource instanceof HTMLImageElement) {\n        let width = resource.naturalWidth;\n        let height = resource.naturalHeight;\n\n        // For SVG images with only viewBox attr.\n        if (!resource.naturalWidth && isSvg(resource.src)) {\n            width = height = MAX_SIZE;\n        }\n\n        return {\n            width,\n            height,\n        };\n    }\n\n    if (resource instanceof HTMLVideoElement) {\n        return {\n            width: resource.videoWidth,\n            height: resource.videoHeight\n        };\n    }\n\n    return {\n        width: resource.width,\n        height: resource.height\n    };\n}\n\nfunction prepareSizeAndPosition(originalSize, options) {\n    const srcLeft = getOption(options, 'left', 0);\n    const srcTop = getOption(options, 'top', 0);\n    const srcWidth = getOption(options, 'width', originalSize.width);\n    const srcHeight = getOption(options, 'height', originalSize.height);\n\n    let destWidth = srcWidth;\n    let destHeight = srcHeight;\n\n    if (options.mode === 'precision') {\n        return {\n            srcLeft,\n            srcTop,\n            srcWidth,\n            srcHeight,\n            destWidth,\n            destHeight\n        };\n    }\n\n    let factor;\n\n    if (srcWidth > srcHeight) {\n        factor = srcWidth / srcHeight;\n        destWidth = MAX_SIZE;\n        destHeight = Math.round(destWidth / factor);\n    } else {\n        factor = srcHeight / srcWidth;\n        destHeight = MAX_SIZE;\n        destWidth = Math.round(destHeight / factor);\n    }\n\n    if (\n        destWidth > srcWidth || destHeight > srcHeight ||\n        destWidth < MIN_SIZE || destHeight < MIN_SIZE\n    ) {\n        destWidth = srcWidth;\n        destHeight = srcHeight;\n    }\n\n    return {\n        srcLeft,\n        srcTop,\n        srcWidth,\n        srcHeight,\n        destWidth,\n        destHeight\n    };\n}\n\nfunction makeCanvas() {\n    return typeof window === 'undefined' ?\n        new OffscreenCanvas(1, 1) :\n        document.createElement('canvas');\n}\n\nconst ERROR_PREFIX = 'FastAverageColor: ';\n\nfunction outputError(options, text, details) {\n    if (!options.silent) {\n        console.error(ERROR_PREFIX + text);\n\n        if (details) {\n            console.error(details);\n        }\n    }\n}\n\nfunction getError(text) {\n    return Error(ERROR_PREFIX + text);\n}\n\nclass FastAverageColor {\n    /**\n     * Get asynchronously the average color from not loaded image.\n     *\n     * @param {string | HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | null} resource\n     * @param {FastAverageColorOptions} [options]\n     *\n     * @returns {Promise<FastAverageColorOptions>}\n     */\n    getColorAsync(resource, options) {\n        if (!resource) {\n            return Promise.reject(getError('call .getColorAsync() without resource.'));\n        }\n\n        if (typeof resource === 'string') {\n            const img = new Image();\n            img.crossOrigin = '';\n            img.src = resource;\n\n            return this._bindImageEvents(img, options);\n        } else if (resource instanceof Image && !resource.complete) {\n            return this._bindImageEvents(resource, options);\n        } else {\n            const result = this.getColor(resource, options);\n\n            return result.error ? Promise.reject(result.error) : Promise.resolve(result);\n        }\n    }\n\n    /**\n     * Get the average color from images, videos and canvas.\n     *\n     * @param {HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | null} resource\n     * @param {FastAverageColorOptions} [options]\n     *\n     * @returns {FastAverageColorResult}\n     */\n    getColor(resource, options) {\n        options = options || {};\n\n        const defaultColor = getDefaultColor(options);\n\n        if (!resource) {\n            outputError(options, 'call .getColor(null) without resource.');\n\n            return this.prepareResult(defaultColor);\n        }\n\n        const originalSize = getOriginalSize(resource);\n        const size = prepareSizeAndPosition(originalSize, options);\n\n        if (!size.srcWidth || !size.srcHeight || !size.destWidth || !size.destHeight) {\n            outputError(options, `incorrect sizes for resource \"${resource.src}\".`);\n\n            return this.prepareResult(defaultColor);\n        }\n\n        if (!this._ctx) {\n            this._canvas = makeCanvas();\n            this._ctx = this._canvas.getContext && this._canvas.getContext('2d');\n\n            if (!this._ctx) {\n                outputError(options, 'Canvas Context 2D is not supported in this browser.');\n\n                return this.prepareResult(defaultColor);\n            }\n        }\n\n        this._canvas.width = size.destWidth;\n        this._canvas.height = size.destHeight;\n\n        let value = defaultColor;\n\n        try {\n            this._ctx.clearRect(0, 0, size.destWidth, size.destHeight);\n            this._ctx.drawImage(\n                resource,\n                size.srcLeft, size.srcTop,\n                size.srcWidth, size.srcHeight,\n                0, 0,\n                size.destWidth, size.destHeight\n            );\n\n            const bitmapData = this._ctx.getImageData(0, 0, size.destWidth, size.destHeight).data;\n            value = this.getColorFromArray4(bitmapData, options);\n        } catch (e) {\n            outputError(options, `security error (CORS) for resource ${resource.src}.\\nDetails: https://developer.mozilla.org/en/docs/Web/HTML/CORS_enabled_image`, e);\n        }\n\n        return this.prepareResult(value);\n    }\n\n    /**\n     * Get the average color from a array when 1 pixel is 4 bytes.\n     *\n     * @param {number[]|Uint8Array|Uint8ClampedArray} arr\n     * @param {Object} [options]\n     * @param {string} [options.algorithm=\"sqrt\"] \"simple\", \"sqrt\" or \"dominant\"\n     * @param {number[]}  [options.defaultColor=[0, 0, 0, 0]] [red, green, blue, alpha]\n     * @param {number[]}  [options.ignoredColor] [red, green, blue, alpha]\n     * @param {number} [options.step=1]\n     *\n     * @returns {number[]} [red (0-255), green (0-255), blue (0-255), alpha (0-255)]\n     */\n    getColorFromArray4(arr, options) {\n        options = options || {};\n\n        const bytesPerPixel = 4;\n        const arrLength = arr.length;\n        const defaultColor = getDefaultColor(options);\n\n        if (arrLength < bytesPerPixel) {\n            return defaultColor;\n        }\n\n        const len = arrLength - arrLength % bytesPerPixel;\n        const step = (options.step || 1) * bytesPerPixel;\n\n        let algorithm;\n\n        switch (options.algorithm || 'sqrt') {\n            case 'simple':\n                algorithm = simpleAlgorithm;\n                break;\n            case 'sqrt':\n                algorithm = sqrtAlgorithm;\n                break;\n            case 'dominant':\n                algorithm = dominantAlgorithm;\n                break;\n            default:\n                throw getError(`${options.algorithm} is unknown algorithm.`);\n        }\n\n        return algorithm(arr, len, {\n            defaultColor,\n            ignoredColor: prepareIgnoredColor(options.ignoredColor),\n            step\n        });\n    }\n\n    /**\n     * Get color data from value ([r, g, b, a]).\n     *\n     * @param {number[]} value\n     *\n     * @returns {FastAverageColorResult}\n     */\n    prepareResult(value) {\n        const rgb = value.slice(0, 3);\n        const rgba = [].concat(rgb, value[3] / 255);\n        const isDarkColor = isDark(value);\n\n        return {\n            value,\n            rgb: 'rgb(' + rgb.join(',') + ')',\n            rgba: 'rgba(' + rgba.join(',') + ')',\n            hex: arrayToHex(rgb),\n            hexa: arrayToHex(value),\n            isDark: isDarkColor,\n            isLight: !isDarkColor\n        };\n    }\n\n    /**\n     * Destroy the instance.\n     */\n    destroy() {\n        delete this._canvas;\n        delete this._ctx;\n    }\n\n    _bindImageEvents(resource, options) {\n        return new Promise((resolve, reject) => {\n            const onload = () => {\n                unbindEvents();\n\n                const result = this.getColor(resource, options);\n\n                if (result.error) {\n                    reject(result.error);\n                } else {\n                    resolve(result);\n                }\n            };\n\n            const onerror = () => {\n                unbindEvents();\n\n                reject(getError(`Error loading image \"${resource.src}\".`));\n            };\n\n            const onabort = () => {\n                unbindEvents();\n\n                reject(getError(`Image \"${resource.src}\" loading aborted.`));\n            };\n\n            const unbindEvents = () => {\n                resource.removeEventListener('load', onload);\n                resource.removeEventListener('error', onerror);\n                resource.removeEventListener('abort', onabort);\n            };\n\n            resource.addEventListener('load', onload);\n            resource.addEventListener('error', onerror);\n            resource.addEventListener('abort', onabort);\n        });\n    }\n}\n\n/**\n * @typeof {Object} FastAverageColorOptions\n *\n * @param {number[]}  [options.defaultColor=[0, 0, 0, 0]] [red, green, blue, alpha]\n * @param {number[]}  [options.ignoredColor] [red, green, blue, alpha]\n * @param {string} [options.mode=\"speed\"] \"precision\" or \"speed\"\n * @param {string} [options.algorithm=\"sqrt\"] \"simple\", \"sqrt\" or \"dominant\"\n * @param {number} [options.step=1]\n * @param {number} [options.left=0]\n * @param {number} [options.top=0]\n * @param {number} [options.width=width of resource]\n * @param {number} [options.height=height of resource]\n * @param {boolean} [options.silent] Disable error output via console.error\n */\n\n/**\n * @typedef {Object} FastAverageColorResult\n *\n * @property {string} rgba\n * @property {string} rgb\n * @property {string} hex\n * @property {string} hexa\n * @property {number[]} value\n * @property {boolean} isDark\n * @property {boolean} isLight\n * @property {Error?} error\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (FastAverageColor);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZmFzdC1hdmVyYWdlLWNvbG9yL2Rpc3QvaW5kZXguZXNtLmpzLmpzIiwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0I7O0FBRWxCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esb0JBQW9CLHlCQUF5QjtBQUM3QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixTQUFTO0FBQzdCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxvQkFBb0IsU0FBUztBQUM3QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxvQkFBb0IsU0FBUztBQUM3QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUseUVBQXlFO0FBQ3hGLGVBQWUseUJBQXlCO0FBQ3hDO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxVQUFVO0FBQ1Y7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0VBQWdFO0FBQy9FLGVBQWUseUJBQXlCO0FBQ3hDO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGtFQUFrRSxhQUFhOztBQUUvRTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLHVFQUF1RSxhQUFhO0FBQ3BGOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSx1Q0FBdUM7QUFDdEQsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFdBQVc7QUFDMUIsZUFBZSxXQUFXO0FBQzFCLGVBQWUsUUFBUTtBQUN2QjtBQUNBLGlCQUFpQixVQUFVO0FBQzNCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxtQkFBbUI7QUFDckQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxVQUFVO0FBQ3pCO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSx3REFBd0QsYUFBYTtBQUNyRTs7QUFFQTtBQUNBOztBQUVBLDBDQUEwQyxhQUFhO0FBQ3ZEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDQSxXQUFXLFdBQVc7QUFDdEIsV0FBVyxXQUFXO0FBQ3RCLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFNBQVM7QUFDcEI7O0FBRUE7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQSxjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxVQUFVO0FBQ3hCLGNBQWMsU0FBUztBQUN2QixjQUFjLFNBQVM7QUFDdkIsY0FBYyxRQUFRO0FBQ3RCOztBQUVBLCtEQUFlLGdCQUFnQixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zhc3QtYXZlcmFnZS1jb2xvci9kaXN0L2luZGV4LmVzbS5qcz8yODMxIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBGYXN0IEF2ZXJhZ2UgQ29sb3IgfCDCqSAyMDIxIERlbmlzIFNlbGV6bmV2IHwgTUlUIExpY2Vuc2UgfCBodHRwczovL2dpdGh1Yi5jb20vZmFzdC1hdmVyYWdlLWNvbG9yL2Zhc3QtYXZlcmFnZS1jb2xvciAqL1xuZnVuY3Rpb24gdG9IZXgobnVtKSB7XG4gICAgY29uc3Qgc3RyID0gbnVtLnRvU3RyaW5nKDE2KTtcblxuICAgIHJldHVybiBzdHIubGVuZ3RoID09PSAxID8gJzAnICsgc3RyIDogc3RyO1xufVxuXG5mdW5jdGlvbiBhcnJheVRvSGV4KGFycikge1xuICAgIHJldHVybiAnIycgKyBhcnIubWFwKHRvSGV4KS5qb2luKCcnKTtcbn1cblxuZnVuY3Rpb24gaXNEYXJrKGNvbG9yKSB7XG4gICAgLy8gaHR0cDovL3d3dy53My5vcmcvVFIvQUVSVCNjb2xvci1jb250cmFzdFxuICAgIGNvbnN0IHJlc3VsdCA9IChjb2xvclswXSAqIDI5OSArIGNvbG9yWzFdICogNTg3ICsgY29sb3JbMl0gKiAxMTQpIC8gMTAwMDtcblxuICAgIHJldHVybiByZXN1bHQgPCAxMjg7XG59XG5cbmZ1bmN0aW9uIHByZXBhcmVJZ25vcmVkQ29sb3IoY29sb3IpIHtcbiAgICBpZiAoIWNvbG9yKSB7IHJldHVybiBjb2xvcjsgfVxuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoY29sb3IpKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgY29sb3JbMF0gPT09ICdudW1iZXInID8gW2NvbG9yLnNsaWNlKCldIDogY29sb3I7XG4gICAgfVxuXG4gICAgcmV0dXJuIFtjb2xvcl07XG59XG5cbmZ1bmN0aW9uIGlzSWdub3JlZENvbG9yKGRhdGEsIGluZGV4LCBpZ25vcmVkQ29sb3IpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlnbm9yZWRDb2xvci5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaXNJZ25vcmVkQ29sb3JBc051bWJlcnMoZGF0YSwgaW5kZXgsIGlnbm9yZWRDb2xvcltpXSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBpc0lnbm9yZWRDb2xvckFzTnVtYmVycyhkYXRhLCBpbmRleCwgaWdub3JlZENvbG9yKSB7XG4gICAgc3dpdGNoIChpZ25vcmVkQ29sb3IubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIC8vIFtyZWQsIGdyZWVuLCBibHVlXVxuICAgICAgICAgICAgaWYgKGlzSWdub3JlZFJHQkNvbG9yKGRhdGEsIGluZGV4LCBpZ25vcmVkQ29sb3IpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAvLyBbcmVkLCBncmVlbiwgYmx1ZSwgYWxwaGFdXG4gICAgICAgICAgICBpZiAoaXNJZ25vcmVkUkdCQUNvbG9yKGRhdGEsIGluZGV4LCBpZ25vcmVkQ29sb3IpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAvLyBbcmVkLCBncmVlbiwgYmx1ZSwgYWxwaGEsIHRocmVzaG9sZF1cbiAgICAgICAgICAgIGlmIChpc0lnbm9yZWRSR0JBQ29sb3JXaXRoVGhyZXNob2xkKGRhdGEsIGluZGV4LCBpZ25vcmVkQ29sb3IpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNJZ25vcmVkUkdCQ29sb3IoZGF0YSwgaW5kZXgsIGlnbm9yZWRDb2xvcikge1xuICAgIC8vIElnbm9yZSBpZiB0aGUgcGl4ZWwgYXJlIHRyYW5zcGFyZW50LlxuICAgIGlmIChkYXRhW2luZGV4ICsgM10gIT09IDI1NSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoZGF0YVtpbmRleF0gPT09IGlnbm9yZWRDb2xvclswXSAmJlxuICAgICAgICBkYXRhW2luZGV4ICsgMV0gPT09IGlnbm9yZWRDb2xvclsxXSAmJlxuICAgICAgICBkYXRhW2luZGV4ICsgMl0gPT09IGlnbm9yZWRDb2xvclsyXVxuICAgICkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGlzSWdub3JlZFJHQkFDb2xvcihkYXRhLCBpbmRleCwgaWdub3JlZENvbG9yKSB7XG4gICAgaWYgKGRhdGFbaW5kZXggKyAzXSAmJiBpZ25vcmVkQ29sb3JbM10pIHtcbiAgICAgICAgcmV0dXJuIGRhdGFbaW5kZXhdID09PSBpZ25vcmVkQ29sb3JbMF0gJiZcbiAgICAgICAgICAgIGRhdGFbaW5kZXggKyAxXSA9PT0gaWdub3JlZENvbG9yWzFdICYmXG4gICAgICAgICAgICBkYXRhW2luZGV4ICsgMl0gPT09IGlnbm9yZWRDb2xvclsyXSAmJlxuICAgICAgICAgICAgZGF0YVtpbmRleCArIDNdID09PSBpZ25vcmVkQ29sb3JbM107XG4gICAgfVxuXG4gICAgLy8gSWdub3JlIHJnYiBjb21wb25lbnRzIGlmIHRoZSBwaXhlbCBhcmUgZnVsbHkgdHJhbnNwYXJlbnQuXG4gICAgcmV0dXJuIGRhdGFbaW5kZXggKyAzXSA9PT0gaWdub3JlZENvbG9yWzNdO1xufVxuXG5mdW5jdGlvbiBpblJhbmdlKGNvbG9yQ29tcG9uZW50LCBpZ25vcmVkQ29sb3JDb21wb25lbnQsIHZhbHVlKSB7XG4gICAgcmV0dXJuIGNvbG9yQ29tcG9uZW50ID49IChpZ25vcmVkQ29sb3JDb21wb25lbnQgLSB2YWx1ZSkgJiZcbiAgICAgICAgY29sb3JDb21wb25lbnQgPD0gKGlnbm9yZWRDb2xvckNvbXBvbmVudCArIHZhbHVlKTtcbn1cblxuZnVuY3Rpb24gaXNJZ25vcmVkUkdCQUNvbG9yV2l0aFRocmVzaG9sZChkYXRhLCBpbmRleCwgaWdub3JlZENvbG9yKSB7XG4gICAgY29uc3QgcmVkSWdub3JlZCA9IGlnbm9yZWRDb2xvclswXTtcbiAgICBjb25zdCBncmVlbklnbm9yZWQgPSBpZ25vcmVkQ29sb3JbMV07XG4gICAgY29uc3QgYmx1ZUlnbm9yZWQgPSBpZ25vcmVkQ29sb3JbMl07XG4gICAgY29uc3QgYWxwaGFJZ25vcmVkID0gaWdub3JlZENvbG9yWzNdO1xuICAgIGNvbnN0IHRocmVzaG9sZCA9IGlnbm9yZWRDb2xvcls0XTtcbiAgICBjb25zdCBhbHBoYURhdGEgPSBkYXRhW2luZGV4ICsgM107XG5cbiAgICBjb25zdCBhbHBoYUluUmFuZ2UgPSBpblJhbmdlKGFscGhhRGF0YSwgYWxwaGFJZ25vcmVkLCB0aHJlc2hvbGQpO1xuICAgIGlmICghYWxwaGFJZ25vcmVkKSB7XG4gICAgICAgIHJldHVybiBhbHBoYUluUmFuZ2U7XG4gICAgfVxuXG4gICAgaWYgKCFhbHBoYURhdGEgJiYgYWxwaGFJblJhbmdlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmIChpblJhbmdlKGRhdGFbaW5kZXhdLCByZWRJZ25vcmVkLCB0aHJlc2hvbGQpICYmXG4gICAgICAgIGluUmFuZ2UoZGF0YVtpbmRleCArIDFdLCBncmVlbklnbm9yZWQsIHRocmVzaG9sZCkgJiZcbiAgICAgICAgaW5SYW5nZShkYXRhW2luZGV4ICsgMl0sIGJsdWVJZ25vcmVkLCB0aHJlc2hvbGQpICYmXG4gICAgICAgIGFscGhhSW5SYW5nZVxuICAgICkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGRvbWluYW50QWxnb3JpdGhtKGFyciwgbGVuLCBvcHRpb25zKSB7XG4gICAgY29uc3QgY29sb3JIYXNoID0ge307XG4gICAgY29uc3QgZGl2aWRlciA9IDI0O1xuICAgIGNvbnN0IGlnbm9yZWRDb2xvciA9IG9wdGlvbnMuaWdub3JlZENvbG9yO1xuICAgIGNvbnN0IHN0ZXAgPSBvcHRpb25zLnN0ZXA7XG4gICAgbGV0IG1heCA9IFswLCAwLCAwLCAwLCAwXTtcbiAgICBcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSArPSBzdGVwKSB7XG4gICAgICAgIGNvbnN0IHJlZCA9IGFycltpXTtcbiAgICAgICAgY29uc3QgZ3JlZW4gPSBhcnJbaSArIDFdO1xuICAgICAgICBjb25zdCBibHVlID0gYXJyW2kgKyAyXTtcbiAgICAgICAgY29uc3QgYWxwaGEgPSBhcnJbaSArIDNdO1xuXG4gICAgICAgIGlmIChpZ25vcmVkQ29sb3IgJiYgaXNJZ25vcmVkQ29sb3IoYXJyLCBpLCBpZ25vcmVkQ29sb3IpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGtleSA9IE1hdGgucm91bmQocmVkIC8gZGl2aWRlcikgKyAnLCcgK1xuICAgICAgICAgICAgICAgIE1hdGgucm91bmQoZ3JlZW4gLyBkaXZpZGVyKSArICcsJyArXG4gICAgICAgICAgICAgICAgTWF0aC5yb3VuZChibHVlIC8gZGl2aWRlcik7XG5cbiAgICAgICAgaWYgKGNvbG9ySGFzaFtrZXldKSB7XG4gICAgICAgICAgICBjb2xvckhhc2hba2V5XSA9IFtcbiAgICAgICAgICAgICAgICBjb2xvckhhc2hba2V5XVswXSArIHJlZCAqIGFscGhhLFxuICAgICAgICAgICAgICAgIGNvbG9ySGFzaFtrZXldWzFdICsgZ3JlZW4gKiBhbHBoYSxcbiAgICAgICAgICAgICAgICBjb2xvckhhc2hba2V5XVsyXSArIGJsdWUgKiBhbHBoYSxcbiAgICAgICAgICAgICAgICBjb2xvckhhc2hba2V5XVszXSArIGFscGhhLFxuICAgICAgICAgICAgICAgIGNvbG9ySGFzaFtrZXldWzRdICsgMVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbG9ySGFzaFtrZXldID0gW3JlZCAqIGFscGhhLCBncmVlbiAqIGFscGhhLCBibHVlICogYWxwaGEsIGFscGhhLCAxXTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKG1heFs0XSA8IGNvbG9ySGFzaFtrZXldWzRdKSB7XG4gICAgICAgICAgICBtYXggPSBjb2xvckhhc2hba2V5XTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHJlZFRvdGFsID0gbWF4WzBdO1xuICAgIGNvbnN0IGdyZWVuVG90YWwgPSBtYXhbMV07XG4gICAgY29uc3QgYmx1ZVRvdGFsID0gbWF4WzJdO1xuXG4gICAgY29uc3QgYWxwaGFUb3RhbCA9IG1heFszXTtcbiAgICBjb25zdCBjb3VudCA9IG1heFs0XTtcblxuICAgIHJldHVybiBhbHBoYVRvdGFsID8gW1xuICAgICAgICBNYXRoLnJvdW5kKHJlZFRvdGFsIC8gYWxwaGFUb3RhbCksXG4gICAgICAgIE1hdGgucm91bmQoZ3JlZW5Ub3RhbCAvIGFscGhhVG90YWwpLFxuICAgICAgICBNYXRoLnJvdW5kKGJsdWVUb3RhbCAvIGFscGhhVG90YWwpLFxuICAgICAgICBNYXRoLnJvdW5kKGFscGhhVG90YWwgLyBjb3VudClcbiAgICBdIDogb3B0aW9ucy5kZWZhdWx0Q29sb3I7XG59XG5cbmZ1bmN0aW9uIHNpbXBsZUFsZ29yaXRobShhcnIsIGxlbiwgb3B0aW9ucykge1xuICAgIGxldCByZWRUb3RhbCA9IDA7XG4gICAgbGV0IGdyZWVuVG90YWwgPSAwO1xuICAgIGxldCBibHVlVG90YWwgPSAwO1xuICAgIGxldCBhbHBoYVRvdGFsID0gMDtcbiAgICBsZXQgY291bnQgPSAwO1xuXG4gICAgY29uc3QgaWdub3JlZENvbG9yID0gb3B0aW9ucy5pZ25vcmVkQ29sb3I7XG4gICAgY29uc3Qgc3RlcCA9IG9wdGlvbnMuc3RlcDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpICs9IHN0ZXApIHtcbiAgICAgICAgY29uc3QgYWxwaGEgPSBhcnJbaSArIDNdO1xuICAgICAgICBjb25zdCByZWQgPSBhcnJbaV0gKiBhbHBoYTtcbiAgICAgICAgY29uc3QgZ3JlZW4gPSBhcnJbaSArIDFdICogYWxwaGE7XG4gICAgICAgIGNvbnN0IGJsdWUgPSBhcnJbaSArIDJdICogYWxwaGE7XG5cbiAgICAgICAgaWYgKGlnbm9yZWRDb2xvciAmJiBpc0lnbm9yZWRDb2xvcihhcnIsIGksIGlnbm9yZWRDb2xvcikpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVkVG90YWwgKz0gcmVkO1xuICAgICAgICBncmVlblRvdGFsICs9IGdyZWVuO1xuICAgICAgICBibHVlVG90YWwgKz0gYmx1ZTtcbiAgICAgICAgYWxwaGFUb3RhbCArPSBhbHBoYTtcblxuICAgICAgICBjb3VudCsrO1xuICAgIH1cblxuICAgIHJldHVybiBhbHBoYVRvdGFsID8gW1xuICAgICAgICBNYXRoLnJvdW5kKHJlZFRvdGFsIC8gYWxwaGFUb3RhbCksXG4gICAgICAgIE1hdGgucm91bmQoZ3JlZW5Ub3RhbCAvIGFscGhhVG90YWwpLFxuICAgICAgICBNYXRoLnJvdW5kKGJsdWVUb3RhbCAvIGFscGhhVG90YWwpLFxuICAgICAgICBNYXRoLnJvdW5kKGFscGhhVG90YWwgLyBjb3VudClcbiAgICBdIDogb3B0aW9ucy5kZWZhdWx0Q29sb3I7XG59XG5cbmZ1bmN0aW9uIHNxcnRBbGdvcml0aG0oYXJyLCBsZW4sIG9wdGlvbnMpIHtcbiAgICBsZXQgcmVkVG90YWwgPSAwO1xuICAgIGxldCBncmVlblRvdGFsID0gMDtcbiAgICBsZXQgYmx1ZVRvdGFsID0gMDtcbiAgICBsZXQgYWxwaGFUb3RhbCA9IDA7XG4gICAgbGV0IGNvdW50ID0gMDtcblxuICAgIGNvbnN0IGlnbm9yZWRDb2xvciA9IG9wdGlvbnMuaWdub3JlZENvbG9yO1xuICAgIGNvbnN0IHN0ZXAgPSBvcHRpb25zLnN0ZXA7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSArPSBzdGVwKSB7XG4gICAgICAgIGNvbnN0IHJlZCA9IGFycltpXTtcbiAgICAgICAgY29uc3QgZ3JlZW4gPSBhcnJbaSArIDFdO1xuICAgICAgICBjb25zdCBibHVlID0gYXJyW2kgKyAyXTtcbiAgICAgICAgY29uc3QgYWxwaGEgPSBhcnJbaSArIDNdO1xuXG4gICAgICAgIGlmIChpZ25vcmVkQ29sb3IgJiYgaXNJZ25vcmVkQ29sb3IoYXJyLCBpLCBpZ25vcmVkQ29sb3IpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlZFRvdGFsICs9IHJlZCAqIHJlZCAqIGFscGhhO1xuICAgICAgICBncmVlblRvdGFsICs9IGdyZWVuICogZ3JlZW4gKiBhbHBoYTtcbiAgICAgICAgYmx1ZVRvdGFsICs9IGJsdWUgKiBibHVlICogYWxwaGE7XG4gICAgICAgIGFscGhhVG90YWwgKz0gYWxwaGE7XG5cbiAgICAgICAgY291bnQrKztcbiAgICB9XG5cbiAgICByZXR1cm4gYWxwaGFUb3RhbCA/IFtcbiAgICAgICAgTWF0aC5yb3VuZChNYXRoLnNxcnQocmVkVG90YWwgLyBhbHBoYVRvdGFsKSksXG4gICAgICAgIE1hdGgucm91bmQoTWF0aC5zcXJ0KGdyZWVuVG90YWwgLyBhbHBoYVRvdGFsKSksXG4gICAgICAgIE1hdGgucm91bmQoTWF0aC5zcXJ0KGJsdWVUb3RhbCAvIGFscGhhVG90YWwpKSxcbiAgICAgICAgTWF0aC5yb3VuZChhbHBoYVRvdGFsIC8gY291bnQpXG4gICAgXSA6IG9wdGlvbnMuZGVmYXVsdENvbG9yO1xufVxuXG5mdW5jdGlvbiBnZXREZWZhdWx0Q29sb3Iob3B0aW9ucykge1xuICAgIHJldHVybiBnZXRPcHRpb24ob3B0aW9ucywgJ2RlZmF1bHRDb2xvcicsIFswLCAwLCAwLCAwXSk7XG59XG5cbmZ1bmN0aW9uIGdldE9wdGlvbihvcHRpb25zLCBuYW1lLCBkZWZhdWx0VmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIG9wdGlvbnNbbmFtZV0gPT09ICd1bmRlZmluZWQnID8gZGVmYXVsdFZhbHVlIDogb3B0aW9uc1tuYW1lXTtcbn1cblxuY29uc3QgTUlOX1NJWkUgPSAxMDtcbmNvbnN0IE1BWF9TSVpFID0gMTAwO1xuXG5mdW5jdGlvbiBpc1N2ZyhmaWxlbmFtZSkge1xuICAgIHJldHVybiBmaWxlbmFtZS5zZWFyY2goL1xcLnN2ZyhcXD98JCkvaSkgIT09IC0xO1xufVxuXG5mdW5jdGlvbiBnZXRPcmlnaW5hbFNpemUocmVzb3VyY2UpIHtcbiAgICBpZiAocmVzb3VyY2UgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50KSB7XG4gICAgICAgIGxldCB3aWR0aCA9IHJlc291cmNlLm5hdHVyYWxXaWR0aDtcbiAgICAgICAgbGV0IGhlaWdodCA9IHJlc291cmNlLm5hdHVyYWxIZWlnaHQ7XG5cbiAgICAgICAgLy8gRm9yIFNWRyBpbWFnZXMgd2l0aCBvbmx5IHZpZXdCb3ggYXR0ci5cbiAgICAgICAgaWYgKCFyZXNvdXJjZS5uYXR1cmFsV2lkdGggJiYgaXNTdmcocmVzb3VyY2Uuc3JjKSkge1xuICAgICAgICAgICAgd2lkdGggPSBoZWlnaHQgPSBNQVhfU0laRTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAocmVzb3VyY2UgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aWR0aDogcmVzb3VyY2UudmlkZW9XaWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogcmVzb3VyY2UudmlkZW9IZWlnaHRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB3aWR0aDogcmVzb3VyY2Uud2lkdGgsXG4gICAgICAgIGhlaWdodDogcmVzb3VyY2UuaGVpZ2h0XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gcHJlcGFyZVNpemVBbmRQb3NpdGlvbihvcmlnaW5hbFNpemUsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBzcmNMZWZ0ID0gZ2V0T3B0aW9uKG9wdGlvbnMsICdsZWZ0JywgMCk7XG4gICAgY29uc3Qgc3JjVG9wID0gZ2V0T3B0aW9uKG9wdGlvbnMsICd0b3AnLCAwKTtcbiAgICBjb25zdCBzcmNXaWR0aCA9IGdldE9wdGlvbihvcHRpb25zLCAnd2lkdGgnLCBvcmlnaW5hbFNpemUud2lkdGgpO1xuICAgIGNvbnN0IHNyY0hlaWdodCA9IGdldE9wdGlvbihvcHRpb25zLCAnaGVpZ2h0Jywgb3JpZ2luYWxTaXplLmhlaWdodCk7XG5cbiAgICBsZXQgZGVzdFdpZHRoID0gc3JjV2lkdGg7XG4gICAgbGV0IGRlc3RIZWlnaHQgPSBzcmNIZWlnaHQ7XG5cbiAgICBpZiAob3B0aW9ucy5tb2RlID09PSAncHJlY2lzaW9uJykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3JjTGVmdCxcbiAgICAgICAgICAgIHNyY1RvcCxcbiAgICAgICAgICAgIHNyY1dpZHRoLFxuICAgICAgICAgICAgc3JjSGVpZ2h0LFxuICAgICAgICAgICAgZGVzdFdpZHRoLFxuICAgICAgICAgICAgZGVzdEhlaWdodFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGxldCBmYWN0b3I7XG5cbiAgICBpZiAoc3JjV2lkdGggPiBzcmNIZWlnaHQpIHtcbiAgICAgICAgZmFjdG9yID0gc3JjV2lkdGggLyBzcmNIZWlnaHQ7XG4gICAgICAgIGRlc3RXaWR0aCA9IE1BWF9TSVpFO1xuICAgICAgICBkZXN0SGVpZ2h0ID0gTWF0aC5yb3VuZChkZXN0V2lkdGggLyBmYWN0b3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZhY3RvciA9IHNyY0hlaWdodCAvIHNyY1dpZHRoO1xuICAgICAgICBkZXN0SGVpZ2h0ID0gTUFYX1NJWkU7XG4gICAgICAgIGRlc3RXaWR0aCA9IE1hdGgucm91bmQoZGVzdEhlaWdodCAvIGZhY3Rvcik7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgICBkZXN0V2lkdGggPiBzcmNXaWR0aCB8fCBkZXN0SGVpZ2h0ID4gc3JjSGVpZ2h0IHx8XG4gICAgICAgIGRlc3RXaWR0aCA8IE1JTl9TSVpFIHx8IGRlc3RIZWlnaHQgPCBNSU5fU0laRVxuICAgICkge1xuICAgICAgICBkZXN0V2lkdGggPSBzcmNXaWR0aDtcbiAgICAgICAgZGVzdEhlaWdodCA9IHNyY0hlaWdodDtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBzcmNMZWZ0LFxuICAgICAgICBzcmNUb3AsXG4gICAgICAgIHNyY1dpZHRoLFxuICAgICAgICBzcmNIZWlnaHQsXG4gICAgICAgIGRlc3RXaWR0aCxcbiAgICAgICAgZGVzdEhlaWdodFxuICAgIH07XG59XG5cbmZ1bmN0aW9uIG1ha2VDYW52YXMoKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnID9cbiAgICAgICAgbmV3IE9mZnNjcmVlbkNhbnZhcygxLCAxKSA6XG4gICAgICAgIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xufVxuXG5jb25zdCBFUlJPUl9QUkVGSVggPSAnRmFzdEF2ZXJhZ2VDb2xvcjogJztcblxuZnVuY3Rpb24gb3V0cHV0RXJyb3Iob3B0aW9ucywgdGV4dCwgZGV0YWlscykge1xuICAgIGlmICghb3B0aW9ucy5zaWxlbnQpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihFUlJPUl9QUkVGSVggKyB0ZXh0KTtcblxuICAgICAgICBpZiAoZGV0YWlscykge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihkZXRhaWxzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0RXJyb3IodGV4dCkge1xuICAgIHJldHVybiBFcnJvcihFUlJPUl9QUkVGSVggKyB0ZXh0KTtcbn1cblxuY2xhc3MgRmFzdEF2ZXJhZ2VDb2xvciB7XG4gICAgLyoqXG4gICAgICogR2V0IGFzeW5jaHJvbm91c2x5IHRoZSBhdmVyYWdlIGNvbG9yIGZyb20gbm90IGxvYWRlZCBpbWFnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgSFRNTEltYWdlRWxlbWVudCB8IEhUTUxWaWRlb0VsZW1lbnQgfCBIVE1MQ2FudmFzRWxlbWVudCB8IG51bGx9IHJlc291cmNlXG4gICAgICogQHBhcmFtIHtGYXN0QXZlcmFnZUNvbG9yT3B0aW9uc30gW29wdGlvbnNdXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxGYXN0QXZlcmFnZUNvbG9yT3B0aW9ucz59XG4gICAgICovXG4gICAgZ2V0Q29sb3JBc3luYyhyZXNvdXJjZSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoIXJlc291cmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZ2V0RXJyb3IoJ2NhbGwgLmdldENvbG9yQXN5bmMoKSB3aXRob3V0IHJlc291cmNlLicpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgcmVzb3VyY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgIGltZy5jcm9zc09yaWdpbiA9ICcnO1xuICAgICAgICAgICAgaW1nLnNyYyA9IHJlc291cmNlO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYmluZEltYWdlRXZlbnRzKGltZywgb3B0aW9ucyk7XG4gICAgICAgIH0gZWxzZSBpZiAocmVzb3VyY2UgaW5zdGFuY2VvZiBJbWFnZSAmJiAhcmVzb3VyY2UuY29tcGxldGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9iaW5kSW1hZ2VFdmVudHMocmVzb3VyY2UsIG9wdGlvbnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5nZXRDb2xvcihyZXNvdXJjZSwgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuZXJyb3IgPyBQcm9taXNlLnJlamVjdChyZXN1bHQuZXJyb3IpIDogUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGF2ZXJhZ2UgY29sb3IgZnJvbSBpbWFnZXMsIHZpZGVvcyBhbmQgY2FudmFzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50IHwgSFRNTFZpZGVvRWxlbWVudCB8IEhUTUxDYW52YXNFbGVtZW50IHwgbnVsbH0gcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge0Zhc3RBdmVyYWdlQ29sb3JPcHRpb25zfSBbb3B0aW9uc11cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtGYXN0QXZlcmFnZUNvbG9yUmVzdWx0fVxuICAgICAqL1xuICAgIGdldENvbG9yKHJlc291cmNlLCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIGNvbnN0IGRlZmF1bHRDb2xvciA9IGdldERlZmF1bHRDb2xvcihvcHRpb25zKTtcblxuICAgICAgICBpZiAoIXJlc291cmNlKSB7XG4gICAgICAgICAgICBvdXRwdXRFcnJvcihvcHRpb25zLCAnY2FsbCAuZ2V0Q29sb3IobnVsbCkgd2l0aG91dCByZXNvdXJjZS4nKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJlcGFyZVJlc3VsdChkZWZhdWx0Q29sb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgb3JpZ2luYWxTaXplID0gZ2V0T3JpZ2luYWxTaXplKHJlc291cmNlKTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHByZXBhcmVTaXplQW5kUG9zaXRpb24ob3JpZ2luYWxTaXplLCBvcHRpb25zKTtcblxuICAgICAgICBpZiAoIXNpemUuc3JjV2lkdGggfHwgIXNpemUuc3JjSGVpZ2h0IHx8ICFzaXplLmRlc3RXaWR0aCB8fCAhc2l6ZS5kZXN0SGVpZ2h0KSB7XG4gICAgICAgICAgICBvdXRwdXRFcnJvcihvcHRpb25zLCBgaW5jb3JyZWN0IHNpemVzIGZvciByZXNvdXJjZSBcIiR7cmVzb3VyY2Uuc3JjfVwiLmApO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcmVwYXJlUmVzdWx0KGRlZmF1bHRDb2xvcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX2N0eCkge1xuICAgICAgICAgICAgdGhpcy5fY2FudmFzID0gbWFrZUNhbnZhcygpO1xuICAgICAgICAgICAgdGhpcy5fY3R4ID0gdGhpcy5fY2FudmFzLmdldENvbnRleHQgJiYgdGhpcy5fY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5fY3R4KSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0RXJyb3Iob3B0aW9ucywgJ0NhbnZhcyBDb250ZXh0IDJEIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyLicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJlcGFyZVJlc3VsdChkZWZhdWx0Q29sb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY2FudmFzLndpZHRoID0gc2l6ZS5kZXN0V2lkdGg7XG4gICAgICAgIHRoaXMuX2NhbnZhcy5oZWlnaHQgPSBzaXplLmRlc3RIZWlnaHQ7XG5cbiAgICAgICAgbGV0IHZhbHVlID0gZGVmYXVsdENvbG9yO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLl9jdHguY2xlYXJSZWN0KDAsIDAsIHNpemUuZGVzdFdpZHRoLCBzaXplLmRlc3RIZWlnaHQpO1xuICAgICAgICAgICAgdGhpcy5fY3R4LmRyYXdJbWFnZShcbiAgICAgICAgICAgICAgICByZXNvdXJjZSxcbiAgICAgICAgICAgICAgICBzaXplLnNyY0xlZnQsIHNpemUuc3JjVG9wLFxuICAgICAgICAgICAgICAgIHNpemUuc3JjV2lkdGgsIHNpemUuc3JjSGVpZ2h0LFxuICAgICAgICAgICAgICAgIDAsIDAsXG4gICAgICAgICAgICAgICAgc2l6ZS5kZXN0V2lkdGgsIHNpemUuZGVzdEhlaWdodFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY29uc3QgYml0bWFwRGF0YSA9IHRoaXMuX2N0eC5nZXRJbWFnZURhdGEoMCwgMCwgc2l6ZS5kZXN0V2lkdGgsIHNpemUuZGVzdEhlaWdodCkuZGF0YTtcbiAgICAgICAgICAgIHZhbHVlID0gdGhpcy5nZXRDb2xvckZyb21BcnJheTQoYml0bWFwRGF0YSwgb3B0aW9ucyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIG91dHB1dEVycm9yKG9wdGlvbnMsIGBzZWN1cml0eSBlcnJvciAoQ09SUykgZm9yIHJlc291cmNlICR7cmVzb3VyY2Uuc3JjfS5cXG5EZXRhaWxzOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9IVE1ML0NPUlNfZW5hYmxlZF9pbWFnZWAsIGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMucHJlcGFyZVJlc3VsdCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBhdmVyYWdlIGNvbG9yIGZyb20gYSBhcnJheSB3aGVuIDEgcGl4ZWwgaXMgNCBieXRlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW118VWludDhBcnJheXxVaW50OENsYW1wZWRBcnJheX0gYXJyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5hbGdvcml0aG09XCJzcXJ0XCJdIFwic2ltcGxlXCIsIFwic3FydFwiIG9yIFwiZG9taW5hbnRcIlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119ICBbb3B0aW9ucy5kZWZhdWx0Q29sb3I9WzAsIDAsIDAsIDBdXSBbcmVkLCBncmVlbiwgYmx1ZSwgYWxwaGFdXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gIFtvcHRpb25zLmlnbm9yZWRDb2xvcl0gW3JlZCwgZ3JlZW4sIGJsdWUsIGFscGhhXVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zdGVwPTFdXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyW119IFtyZWQgKDAtMjU1KSwgZ3JlZW4gKDAtMjU1KSwgYmx1ZSAoMC0yNTUpLCBhbHBoYSAoMC0yNTUpXVxuICAgICAqL1xuICAgIGdldENvbG9yRnJvbUFycmF5NChhcnIsIG9wdGlvbnMpIHtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgY29uc3QgYnl0ZXNQZXJQaXhlbCA9IDQ7XG4gICAgICAgIGNvbnN0IGFyckxlbmd0aCA9IGFyci5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRDb2xvciA9IGdldERlZmF1bHRDb2xvcihvcHRpb25zKTtcblxuICAgICAgICBpZiAoYXJyTGVuZ3RoIDwgYnl0ZXNQZXJQaXhlbCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRDb2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxlbiA9IGFyckxlbmd0aCAtIGFyckxlbmd0aCAlIGJ5dGVzUGVyUGl4ZWw7XG4gICAgICAgIGNvbnN0IHN0ZXAgPSAob3B0aW9ucy5zdGVwIHx8IDEpICogYnl0ZXNQZXJQaXhlbDtcblxuICAgICAgICBsZXQgYWxnb3JpdGhtO1xuXG4gICAgICAgIHN3aXRjaCAob3B0aW9ucy5hbGdvcml0aG0gfHwgJ3NxcnQnKSB7XG4gICAgICAgICAgICBjYXNlICdzaW1wbGUnOlxuICAgICAgICAgICAgICAgIGFsZ29yaXRobSA9IHNpbXBsZUFsZ29yaXRobTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3NxcnQnOlxuICAgICAgICAgICAgICAgIGFsZ29yaXRobSA9IHNxcnRBbGdvcml0aG07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkb21pbmFudCc6XG4gICAgICAgICAgICAgICAgYWxnb3JpdGhtID0gZG9taW5hbnRBbGdvcml0aG07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IGdldEVycm9yKGAke29wdGlvbnMuYWxnb3JpdGhtfSBpcyB1bmtub3duIGFsZ29yaXRobS5gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhbGdvcml0aG0oYXJyLCBsZW4sIHtcbiAgICAgICAgICAgIGRlZmF1bHRDb2xvcixcbiAgICAgICAgICAgIGlnbm9yZWRDb2xvcjogcHJlcGFyZUlnbm9yZWRDb2xvcihvcHRpb25zLmlnbm9yZWRDb2xvciksXG4gICAgICAgICAgICBzdGVwXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBjb2xvciBkYXRhIGZyb20gdmFsdWUgKFtyLCBnLCBiLCBhXSkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSB2YWx1ZVxuICAgICAqXG4gICAgICogQHJldHVybnMge0Zhc3RBdmVyYWdlQ29sb3JSZXN1bHR9XG4gICAgICovXG4gICAgcHJlcGFyZVJlc3VsdCh2YWx1ZSkge1xuICAgICAgICBjb25zdCByZ2IgPSB2YWx1ZS5zbGljZSgwLCAzKTtcbiAgICAgICAgY29uc3QgcmdiYSA9IFtdLmNvbmNhdChyZ2IsIHZhbHVlWzNdIC8gMjU1KTtcbiAgICAgICAgY29uc3QgaXNEYXJrQ29sb3IgPSBpc0RhcmsodmFsdWUpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIHJnYjogJ3JnYignICsgcmdiLmpvaW4oJywnKSArICcpJyxcbiAgICAgICAgICAgIHJnYmE6ICdyZ2JhKCcgKyByZ2JhLmpvaW4oJywnKSArICcpJyxcbiAgICAgICAgICAgIGhleDogYXJyYXlUb0hleChyZ2IpLFxuICAgICAgICAgICAgaGV4YTogYXJyYXlUb0hleCh2YWx1ZSksXG4gICAgICAgICAgICBpc0Rhcms6IGlzRGFya0NvbG9yLFxuICAgICAgICAgICAgaXNMaWdodDogIWlzRGFya0NvbG9yXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSB0aGUgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2NhbnZhcztcbiAgICAgICAgZGVsZXRlIHRoaXMuX2N0eDtcbiAgICB9XG5cbiAgICBfYmluZEltYWdlRXZlbnRzKHJlc291cmNlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdW5iaW5kRXZlbnRzKCk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmdldENvbG9yKHJlc291cmNlLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHJlc3VsdC5lcnJvcik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IG9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdW5iaW5kRXZlbnRzKCk7XG5cbiAgICAgICAgICAgICAgICByZWplY3QoZ2V0RXJyb3IoYEVycm9yIGxvYWRpbmcgaW1hZ2UgXCIke3Jlc291cmNlLnNyY31cIi5gKSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBvbmFib3J0ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHVuYmluZEV2ZW50cygpO1xuXG4gICAgICAgICAgICAgICAgcmVqZWN0KGdldEVycm9yKGBJbWFnZSBcIiR7cmVzb3VyY2Uuc3JjfVwiIGxvYWRpbmcgYWJvcnRlZC5gKSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCB1bmJpbmRFdmVudHMgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIG9ubG9hZCk7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBvbmVycm9yKTtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIG9uYWJvcnQpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmVzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIG9ubG9hZCk7XG4gICAgICAgICAgICByZXNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIG9uZXJyb3IpO1xuICAgICAgICAgICAgcmVzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbmFib3J0KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEB0eXBlb2Yge09iamVjdH0gRmFzdEF2ZXJhZ2VDb2xvck9wdGlvbnNcbiAqXG4gKiBAcGFyYW0ge251bWJlcltdfSAgW29wdGlvbnMuZGVmYXVsdENvbG9yPVswLCAwLCAwLCAwXV0gW3JlZCwgZ3JlZW4sIGJsdWUsIGFscGhhXVxuICogQHBhcmFtIHtudW1iZXJbXX0gIFtvcHRpb25zLmlnbm9yZWRDb2xvcl0gW3JlZCwgZ3JlZW4sIGJsdWUsIGFscGhhXVxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLm1vZGU9XCJzcGVlZFwiXSBcInByZWNpc2lvblwiIG9yIFwic3BlZWRcIlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmFsZ29yaXRobT1cInNxcnRcIl0gXCJzaW1wbGVcIiwgXCJzcXJ0XCIgb3IgXCJkb21pbmFudFwiXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc3RlcD0xXVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmxlZnQ9MF1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy50b3A9MF1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD13aWR0aCBvZiByZXNvdXJjZV1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9aGVpZ2h0IG9mIHJlc291cmNlXVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5zaWxlbnRdIERpc2FibGUgZXJyb3Igb3V0cHV0IHZpYSBjb25zb2xlLmVycm9yXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBGYXN0QXZlcmFnZUNvbG9yUmVzdWx0XG4gKlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHJnYmFcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSByZ2JcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBoZXhcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBoZXhhXG4gKiBAcHJvcGVydHkge251bWJlcltdfSB2YWx1ZVxuICogQHByb3BlcnR5IHtib29sZWFufSBpc0RhcmtcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gaXNMaWdodFxuICogQHByb3BlcnR5IHtFcnJvcj99IGVycm9yXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgRmFzdEF2ZXJhZ2VDb2xvcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/fast-average-color/dist/index.esm.js\n");

/***/ }),

/***/ "./resources/css/main.css":
/*!********************************!*\
  !*** ./resources/css/main.css ***!
  \********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9yZXNvdXJjZXMvY3NzL21haW4uY3NzLmpzIiwibWFwcGluZ3MiOiI7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3Jlc291cmNlcy9jc3MvbWFpbi5jc3M/MDc2NiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./resources/css/main.css\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/chunk loaded */
/******/ 	!function() {
/******/ 		var deferred = [];
/******/ 		__webpack_require__.O = function(result, chunkIds, fn, priority) {
/******/ 			if(chunkIds) {
/******/ 				priority = priority || 0;
/******/ 				for(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];
/******/ 				deferred[i] = [chunkIds, fn, priority];
/******/ 				return;
/******/ 			}
/******/ 			var notFulfilled = Infinity;
/******/ 			for (var i = 0; i < deferred.length; i++) {
/******/ 				var chunkIds = deferred[i][0];
/******/ 				var fn = deferred[i][1];
/******/ 				var priority = deferred[i][2];
/******/ 				var fulfilled = true;
/******/ 				for (var j = 0; j < chunkIds.length; j++) {
/******/ 					if ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {
/******/ 						chunkIds.splice(j--, 1);
/******/ 					} else {
/******/ 						fulfilled = false;
/******/ 						if(priority < notFulfilled) notFulfilled = priority;
/******/ 					}
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferred.splice(i--, 1)
/******/ 					var r = fn();
/******/ 					if (r !== undefined) result = r;
/******/ 				}
/******/ 			}
/******/ 			return result;
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	!function() {
/******/ 		__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	!function() {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = function(exports) {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	!function() {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"/js/spotifynt": 0,
/******/ 			"css/main": 0
/******/ 		};
/******/ 		
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = function(parentChunkLoadingFunction, data) {
/******/ 			var chunkIds = data[0];
/******/ 			var moreModules = data[1];
/******/ 			var runtime = data[2];
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			for(moduleId in moreModules) {
/******/ 				if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 					__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 				}
/******/ 			}
/******/ 			if(runtime) var result = runtime(__webpack_require__);
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkIds[i]] = 0;
/******/ 			}
/******/ 			return __webpack_require__.O(result);
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunk"] = self["webpackChunk"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	}();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module depends on other loaded chunks and execution need to be delayed
/******/ 	__webpack_require__.O(undefined, ["css/main"], function() { return __webpack_require__("./resources/js/spotifynt.js"); })
/******/ 	var __webpack_exports__ = __webpack_require__.O(undefined, ["css/main"], function() { return __webpack_require__("./resources/css/main.css"); })
/******/ 	__webpack_exports__ = __webpack_require__.O(__webpack_exports__);
/******/ 	
/******/ })()
;